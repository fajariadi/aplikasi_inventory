(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[84],{355:function(e,a,t){"use strict";t.r(a);var n=t(22),l=t(23),r=t(25),i=t(24),s=t(2),m=t.n(s),u=t(26),c=t(375),o=t(70),d=t(73),h=t(71),p=t(65),E=t(66),y=t(67),v=t(64),k=t(68),g=t(74),f=t(93),b=t(91),w=t(92),O=t(101),j=t(104),M=t(105),A=t(81),D=function(e){Object(r.a)(t,e);var a=Object(i.a)(t);function t(e){var l;return Object(n.a)(this,t),(l=a.call(this,e)).state={nama:"",jabatan:"",alamat:"",noHp:"",avatar:"",div_id:"",username:"",password:"",karyawan_id:"",modalIsOpen:!1,modal1IsOpen:!1},l}return Object(l.a)(t,[{key:"onDelete",value:function(e){}},{key:"toggleModal1",value:function(){this.setState({modal1IsOpen:!this.state.modal1IsOpen})}},{key:"toggleModal",value:function(e){this.setState({karyawan_id:e}),this.setState({modalIsOpen:!this.state.modalIsOpen})}},{key:"displayDivisi",value:function(){var e=this.props.getDivisisQuery;return e.loading?m.a.createElement("div",null,"Loading Divisi..."):e.divisis.map((function(e){return m.a.createElement("option",{key:e.id,value:e.id},e.nama)}))}},{key:"displayKaryawan",value:function(){var e=this.props.getKaryawansQuery;return e.loading?m.a.createElement("div",null,"Loading Karyawan..."):e.karyawans.map((function(e){return m.a.createElement("option",{key:e.id,value:e.id},e.nama)}))}},{key:"displayAkuns",value:function(){var e=this,a=this.props.getAkunsQuery,t=0;return a.loading?m.a.createElement("div",null,"Loading Akuns..."):a.akuns.map((function(a){return t++,m.a.createElement("tr",{key:a.id},m.a.createElement("td",null,t),m.a.createElement("td",null,a.karyawan.nama),m.a.createElement("td",null,a.karyawan.jabatan),m.a.createElement("td",null,a.karyawan.alamat),m.a.createElement("td",null,a.karyawan.noHp),m.a.createElement("td",null,a.karyawan.divisi.nama),m.a.createElement("td",null,m.a.createElement(u.Link,{to:"/user/detailAkun/".concat(a.id)},m.a.createElement(h.a,{color:"primary",size:"sm"},m.a.createElement("i",{className:"fa fa-file"})))),m.a.createElement("td",null,m.a.createElement(h.a,{onClick:e.onDelete.bind(e,a.id),color:"danger",size:"sm"},m.a.createElement("i",{className:"fa fa-trash"}))))}))}},{key:"onDelete",value:function(e){this.props.hapusAkunMutation({variables:{id:e},refetchQueries:[{query:d.q}]})}},{key:"addUser",value:function(e){e.preventDefault();this.props.addAkunMutation({variables:{username:this.state.username,password:this.state.password,karyawan_id:this.state.karyawan_id},refetchQueries:[{query:d.v}]})}},{key:"submitForm",value:function(e){e.preventDefault(),this.toggleModal1(),this.props.addKaryawanMutation({variables:{nama:this.state.nama,jabatan:this.state.jabatan,alamat:this.state.alamat,noHp:this.state.noHp,avatar:this.state.nama+"jpg",divisi_id:this.state.div_id},refetchQueries:[{query:d.v}]})}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"animated fadeIn"},m.a.createElement(p.a,null,m.a.createElement(E.a,null,m.a.createElement(y.a,null,m.a.createElement(v.a,null,"Daftar Akun",m.a.createElement(h.a,{size:"sm",color:"primary",className:"float-right mb-0 mr-2",onClick:this.toggleModal.bind(this)},m.a.createElement("i",{className:"fa fa-plus"})," Buat Akun")),m.a.createElement(k.a,null,m.a.createElement(g.a,{hover:!0,bordered:!0,striped:!0,responsive:!0,size:"sm"},m.a.createElement("thead",{align:"center"},m.a.createElement("tr",null,m.a.createElement("th",null,"No"),m.a.createElement("th",null,"Nama"),m.a.createElement("th",null,"Jabatan"),m.a.createElement("th",null,"Alamat"),m.a.createElement("th",null,"No HP"),m.a.createElement("th",null,"Divisi"),m.a.createElement("th",null,"Detail"),m.a.createElement("th",null,"Hapus"))),m.a.createElement("tbody",{align:"center"},this.displayAkuns())))))),m.a.createElement(f.a,{isOpen:this.state.modalIsOpen},m.a.createElement(b.a,null,"Form Tambah Barang"),m.a.createElement(w.a,null,m.a.createElement(O.a,{onSubmit:function(a){e.addUser(a)}},m.a.createElement(j.a,null,m.a.createElement(M.a,{htmlFor:"name"},"Username"),m.a.createElement(A.a,{type:"text",name:"username",onChange:function(a){return e.setState({username:a.target.value})},id:"nama",required:!0})),m.a.createElement(j.a,null,m.a.createElement(M.a,{htmlFor:"name"},"Password"),m.a.createElement(A.a,{type:"password",name:"password",onChange:function(a){return e.setState({password:a.target.value})},id:"nama",required:!0})),m.a.createElement(j.a,null,m.a.createElement(M.a,{htmlFor:"name"},"Karyawan"),m.a.createElement(A.a,{type:"select",name:"karyawan",onChange:function(a){return e.setState({karyawan_id:a.target.value})},id:"nama",required:!0},m.a.createElement("option",null,"Pilih Karyawan"),this.displayKaryawan())),m.a.createElement(h.a,{type:"submit",color:"primary"},"Tambah"),m.a.createElement(h.a,{color:"danger",onClick:this.toggleModal.bind(this)},"Batal")))),m.a.createElement(f.a,{isOpen:this.state.modal1IsOpen},m.a.createElement(b.a,null,"From Tambah Karyawan"),m.a.createElement(w.a,null,m.a.createElement(O.a,{onSubmit:function(a){e.submitForm(a)}},m.a.createElement(j.a,null,m.a.createElement(M.a,{htmlFor:"name"},"Nama"),m.a.createElement(A.a,{type:"text",id:"nama",placeholder:"Masukkan Nama",onChange:function(a){return e.setState({nama:a.target.value})},required:!0})),m.a.createElement(j.a,null,m.a.createElement(M.a,{htmlFor:"name"},"Jabatan"),m.a.createElement(A.a,{type:"text",id:"jabatan",placeholder:"Masukkan Jabatan",onChange:function(a){return e.setState({jabatan:a.target.value})},required:!0})),m.a.createElement(j.a,null,m.a.createElement(M.a,{htmlFor:"name"},"Alamat"),m.a.createElement(A.a,{type:"text",id:"alamat",placeholder:"Masukkan Alamat",onChange:function(a){return e.setState({alamat:a.target.value})},required:!0})),m.a.createElement(j.a,null,m.a.createElement(M.a,{htmlFor:"name"},"No HP"),m.a.createElement(A.a,{type:"text",id:"noHp",placeholder:"Masukkan No HP",onChange:function(a){return e.setState({noHp:a.target.value})},required:!0})),m.a.createElement(j.a,null,m.a.createElement(M.a,{htmlFor:"name"},"Divisi"),m.a.createElement(A.a,{type:"select",name:"divisi",onChange:function(a){return e.setState({div_id:a.target.value})},id:"nama",required:!0},m.a.createElement("option",null,"Pilih Divisi"),this.displayDivisi())),m.a.createElement(h.a,{type:"submit",color:"primary"},"Submit"),m.a.createElement(h.a,{color:"danger",onClick:this.toggleModal1.bind(this)},"Batal")))))}}]),t}(s.Component);a.default=o(Object(c.a)(d.u,{name:"getDivisisQuery"}),Object(c.a)(d.q,{name:"getAkunsQuery"}),Object(c.a)(d.a,{name:"addAkunMutation"}),Object(c.a)(d.d,{name:"addKaryawanMutation"}),Object(c.a)(d.v,{name:"getKaryawansQuery"}),Object(c.a)(d.J,{name:"hapusAkunMutation"}))(D)}}]);
//# sourceMappingURL=84.b620233b.chunk.js.map