{"version":3,"sources":["views/Logistik/Users/OfferRoom.js","views/Logistik/queries/queries.js"],"names":["OfferRoom","props","state","nama","modalIsOpen","divisi_id","this","hapusDivisiMutation","variables","id","refetchQueries","query","getDivisisQuery","setState","data","loading","divisis","map","divisi","key","onClick","toggleModal","bind","onDelete","e","preventDefault","addDivisiMutation","div","console","log","className","to","label","color","onSubmit","submitRequest","form","md","htmlFor","hidden","type","onChange","target","value","placeholder","required","size","hover","bordered","striped","responsive","displayDivisis","isOpen","addItem","name","Component","compose","graphql","getVendorsQuery","gql","getAlatsQuery","getRequestsQuery","getListRequestsQuery","getOrdersQuery","getBarangsQuery","getKaryawansQuery","addAlatMutation","addVendorMutation","addRequestMutation","hapusRequestMutation","addListRequestMutation","hapusManyListRequestMutation","addBarangMutation","addAkunMutation","getAkunQuery","getRequestQuery"],"mappings":"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","file":"static/js/89.0b38d553.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {graphql} from 'react-apollo';\r\nimport * as compose from 'lodash.flowright';\r\nimport { getDivisisQuery, addDivisiMutation, hapusDivisiMutation} from '../queries/queries';\r\nimport {  \r\n  Card, \r\n  CardBody, \r\n  CardHeader, \r\n  Col, \r\n  Button, \r\n  Row, \r\n  Table,\r\n  FormGroup,\r\n  Form,\r\n  Label,\r\n  Input,\r\n  Modal,\r\n  ModalBody,\r\n  ModalHeader\r\n} from 'reactstrap';\r\n\r\nclass OfferRoom extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      nama:'',\r\n      modalIsOpen: false,\r\n    }\r\n  }\r\n\r\n  onDelete(divisi_id){\r\n    this.props.hapusDivisiMutation({\r\n      variables:{\r\n        id: divisi_id,        \r\n      },\r\n      refetchQueries:[{query:getDivisisQuery}],\r\n    });\r\n  }\r\n\r\n  toggleModal(divisi_id){\r\n    this.setState({\r\n      modalIsOpen: ! this.state.modalIsOpen\r\n    });\r\n  }\r\n\r\n  displayDivisis(){\r\n    var data = this.props.getDivisisQuery;\r\n    if(data.loading){\r\n      return (<div>Loading Divisi...</div>);\r\n    } else {\r\n      return data.divisis.map(divisi => {\r\n        return(\r\n          <tr>\r\n            <td key={divisi.id}>{divisi.nama}</td>\r\n            <td key={divisi.id}>\r\n             <Button onClick={this.toggleModal.bind(this, divisi.id)}>Edit</Button>\r\n            </td>\r\n            <td key={divisi.id}>\r\n              <Button onClick={this.onDelete.bind(this, divisi.id)}>Hapus</Button>\r\n            </td>\r\n\r\n          </tr>\r\n        );\r\n      });\r\n    }\r\n  }\r\n\r\n  submitRequest(e){\r\n   e.preventDefault();\r\n   var data = this.props.addDivisiMutation({\r\n      variables:{\r\n        nama:this.state.nama,\r\n      },\r\n      refetchQueries:[{query:getDivisisQuery}]\r\n    });\r\n    data.divisi.map(div =>{\r\n        console.log(div.id)\r\n    });\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <div className=\"animated fadeIn\">\r\n        <Row>\r\n          <Col>\r\n            <Card>\r\n              <CardHeader>\r\n                Form Request\r\n                <Link to=\"/request/request\" className={'float-right mb-0'}>\r\n                  <Button label color=\"danger\">\r\n                      Batal\r\n                  </Button>\r\n                </Link>\r\n              </CardHeader>\r\n              <CardBody>\r\n               <Form onSubmit={(e) => {this.submitRequest(e)}}>\r\n                <Row form>\r\n                  <Col md=\"4\">\r\n                    <FormGroup>\r\n                      <Label htmlFor=\"name\" hidden>Nama Divisi</Label>\r\n                      <Input type=\"text\" id=\"nama\" onChange={(e) =>this.setState({nama:e.target.value})} placeholder=\"Masukkan Nama Barang\" required />\r\n                    </FormGroup>\r\n                  </Col>\r\n                  <Col md=\"2\">\r\n                    <Button type=\"Submit\" size=\"sm\" color=\"success\"><i className=\"fa fa-plus-circle\"></i> Submit</Button>\r\n                  </Col>\r\n                  </Row>\r\n                </Form>\r\n                <Table hover bordered striped responsive size=\"sm\">\r\n                  <thead>\r\n                  <tr>\r\n                    <th>Nama</th>\r\n                    <th>Edit</th>\r\n                    <th>Hapus</th>\r\n                  </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                  {this.displayDivisis()}\r\n                  </tbody>\r\n                </Table>\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n        <Modal isOpen={this.state.modalIsOpen}>\r\n          <ModalHeader>Form Tambah Barang</ModalHeader>\r\n          <ModalBody>\r\n            <Form onSubmit={(e) => {this.addItem(e)}}>\r\n              <FormGroup>\r\n                <Label htmlFor=\"name\">Nama Barang</Label>\r\n                <Input type=\"select\" name=\"nama\" onChange={(e) =>this.setState({nama:e.target.value})} id=\"nama\" required></Input>\r\n              </FormGroup>\r\n              <Button type=\"submit\" color=\"primary\">Tambah</Button>\r\n              <Button color=\"danger\" onClick={this.toggleModal.bind(this)}>Batal</Button>\r\n            </Form>\r\n          </ModalBody>  \r\n        </Modal>\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(getDivisisQuery, {name:\"getDivisisQuery\"}),\r\n  graphql(addDivisiMutation, {name:\"addDivisiMutation\"}),\r\n  graphql(hapusDivisiMutation, {name:\"hapusDivisiMutation\"})\r\n)(OfferRoom);\r\n","import {gql} from 'apollo-boost';\r\n\r\nconst getVendorsQuery = gql`\r\n{\r\n\tvendors {\r\n\t\tnama\r\n\t\tjenis_usaha\r\n\t\tid\r\n\t}\r\n}\r\n`\r\n\r\nconst getAlatsQuery = gql`\r\n{\r\n\talats {\r\n\t\tnama\r\n\t\tjumlah\r\n\t\tid\r\n\t}\r\n}\r\n`\r\nconst getDivisisQuery = gql`\r\n{\r\n\tdivisis {\r\n\t\tnama\r\n\t\tid\r\n\t}\r\n}\r\n`\r\nconst getRequestsQuery = gql`\r\n{\r\n\trequests {\r\n\t\ttanggal\r\n\t\tstatus\r\n\t\tid\r\n\t\tdivisi{\r\n\t\t\tnama\r\n\t\t}\r\n\t}\r\n}\r\n`\r\nconst getListRequestsQuery = gql`\r\n{\r\n\tlistrequests {\r\n\t\tnama_barang\r\n\t\tjumlah_barang\r\n\t\tjenis\r\n\t\tsatuan\r\n\t\tid\r\n\t\trequest{\r\n\t\t\tstatus\r\n\t\t\ttanggal\r\n\t\t\tdivisi{\r\n\t\t\t\tnama\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n`\r\n\r\nconst getOrdersQuery = gql`\r\n{\r\n\torders {\r\n\t\tkode\r\n\t\ttanggal\r\n\t\tjenis\r\n\t\tstatus\r\n\t\tid\r\n\t\tvendor{\r\n\t\t\tnama\r\n\t\t\tjenis_usaha\r\n\t\t}\r\n\t}\r\n}\r\n`\r\n\r\nconst getBarangsQuery = gql`\r\n{\r\n\tbarangs {\r\n\t\tnama_barang\r\n\t\tjenis_barang\r\n\t\tsatuan\r\n\t\tid\r\n\t}\r\n}\r\n`\r\n\r\nconst getKaryawansQuery = gql`\r\n{\r\n\tkaryawans {\r\n\t\tnama\r\n\t\tjabatan\r\n\t\talamat\r\n\t\tnoHp\r\n\t\tavatar\r\n\t\tdivisi{\r\n\t\t\tnama\r\n\t\t}\r\n\t\tid\r\n\t}\r\n}\r\n`\r\n\r\nconst addAlatMutation = gql`\r\n\tmutation($nama:String!, $jumlah:Int!){\r\n\t\taddAlat(nama: $nama, jumlah: $jumlah){\r\n\t\t\tnama\r\n\t\t\tjumlah\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n\r\nconst addVendorMutation = gql`\r\n\tmutation($nama:String!, $jenis_usaha:String!){\r\n\t\taddVendor(nama: $nama, jenis_usaha: $jenis_usaha){\r\n\t\t\tnama\r\n\t\t\tjenis_usaha\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n\r\nconst addDivisiMutation = gql`\r\n\tmutation($nama:String!){\r\n\t\taddDivisi(nama: $nama){\r\n\t\t\tnama\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n\r\nconst hapusDivisiMutation = gql`\r\n\tmutation($id:ID!){\r\n\t\thapusDivisi(id: $id){\r\n\t\t\tnama\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n\r\nconst addRequestMutation = gql`\r\n\tmutation($tanggal:String!, $status:String!, $divisi_id: ID!){\r\n\t\taddRequest(tanggal: $tanggal, status: $status, divisi_id: $divisi_id){\r\n\t\t\ttanggal\r\n\t\t\tstatus\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\nconst hapusRequestMutation = gql`\r\n\tmutation($id:ID!){\r\n\t\thapusRequest(id: $id){\r\n\t\t\tstatus\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n\r\nconst addListRequestMutation = gql`\r\n\tmutation($nama_barang:String!, $jumlah_barang:Int!, $satuan:String!, $jenis:String!, $request_id: ID!){\r\n\t\taddListRequest(nama_barang: $nama_barang, jumlah_barang: $jumlah_barang, satuan:$satuan, jenis:$jenis, request_id: $request_id){\r\n\t\t\tnama_barang\r\n\t\t\tjumlah_barang\r\n\t\t\tsatuan\r\n\t\t\tjenis\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\nconst hapusManyListRequestMutation = gql`\r\n\tmutation($id:ID!){\r\n\t\thapusManyListRequest(id: $id){\r\n\t\t\tnama_barang\r\n\t\t\tjumlah_barang\r\n\t\t\tsatuan\r\n\t\t\tjenis\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n\r\nconst hapusListRequestMutation = gql`\r\n\tmutation($id:ID!){\r\n\t\thapusListRequest(id: $id){\r\n\t\t\tnama_barang\r\n\t\t\tjumlah_barang\r\n\t\t\tsatuan\r\n\t\t\tjenis\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n\r\nconst addBarangMutation = gql`\r\n\tmutation($nama_barang:String!, $jenis_barang:String!, $satuan:String!){\r\n\t\taddBarang(nama_barang: $nama_barang, jenis_barang: $jenis_barang, satuan:$satuan){\r\n\t\t\tnama_barang\r\n\t\t\tjenis_barang\r\n\t\t\tsatuan\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n\r\nconst addAkunMutation = gql`\r\n\tmutation($username:String!, $password:String!, $karyawan_id:ID!){\r\n\t\taddAkun(username: $username, password: $password, karyawan_id:$karyawan_id){\r\n\t\t\tusername\r\n\t\t\tpassword\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n\r\nconst getAkunQuery = gql`\r\n\tquery($username: String!, $password: String!){\r\n\t\takun(username: $username, password: $password) {\r\n\t\t\tusername\r\n\t\t\tpassword\r\n\t\t\tkaryawan{\r\n\t\t\t\tnama\r\n\t\t\t\tjabatan\r\n\t\t\t\talamat\r\n\t\t\t\tnoHp\r\n\t\t\t\tavatar\r\n\t\t\t\tid\r\n\t\t\t\tdivisi{\r\n\t\t\t\t\tnama\r\n\t\t\t\t\tid\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n\r\nconst getBarangQuery = gql`\r\n\tquery($id: ID){\r\n\t\tbarang(id: $id) {\r\n\t\t\tnama_barang\r\n\t\t\tjenis_barang\r\n\t\t\tsatuan\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n\r\nconst getRequestQuery = gql`\r\n\tquery($id:ID){\r\n\t\trequest(id: $id) {\r\n\t\t\ttanggal\r\n\t\t\tstatus\r\n\t\t\tid\r\n\t\t\tdivisi{\r\n\t\t\t\tnama\r\n\t\t\t}\r\n\t\t\tlistRequest{\r\n\t\t\t\tnama_barang\r\n\t\t\t\tjumlah_barang\r\n\t\t\t\tjenis\r\n\t\t\t\tsatuan\r\n\t\t\t\tid\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`\r\n\r\n\r\nexport {\r\n\tgetVendorsQuery, \r\n\tgetAlatsQuery,\r\n\tgetDivisisQuery,\r\n\tgetRequestsQuery,\r\n\tgetRequestQuery,\r\n\tgetListRequestsQuery,\r\n\tgetOrdersQuery,\r\n\tgetBarangsQuery,\r\n\tgetBarangQuery,\r\n\taddDivisiMutation, \r\n\taddAlatMutation, \r\n\taddVendorMutation,\r\n\taddRequestMutation,\r\n\taddListRequestMutation,\r\n\taddBarangMutation,\r\n\thapusDivisiMutation,\r\n\thapusRequestMutation,\r\n\thapusListRequestMutation,\r\n\tgetKaryawansQuery,\r\n\taddAkunMutation,\r\n\tgetAkunQuery,\r\n\thapusManyListRequestMutation\r\n};"],"sourceRoot":""}