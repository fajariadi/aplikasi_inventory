{"version":3,"sources":["views/Logistik/PurchaseOrder/BuatPurchaseOrder.js","../node_modules/reactstrap/es/CardHeader.js","../node_modules/reactstrap/es/Table.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"names":["BuatPurchaseOrder","props","state","orderItems","kode","status","satuan","jenis","orderid","jenis_usaha","data","this","getPurchaseOrdersQuery","tanggal","nama","id","purchaseOrders","map","order","akun","karyawan","className","md","row","htmlFor","type","name","value","disabled","onChange","e","updateVendorPurchaseOrder","target","displayVendor","order_id","vendor","substring","console","log","setState","updateVendorPurchaseOrderMutation","variables","vendor_id","refetchQueries","query","items","getListRequestsQuery","JSON","stringify","listrequests","barang","har","sama","jum","length","parseInt","jumlah_barang","harga","newItem","nama_barang","jumlah","push","item","hrg","el","key","align","getVendorsQuery","loading","vendors","hapusPurchaseOrderMutation","history","total","Swal","fire","position","icon","title","text","showConfirmButton","request","updateTotalHargaPurchaseOrder","total_harga","updateAllStatusListRequest","addListItemPurchaseOrder","purchaseOrder_id","color","onClick","onDelete","bind","displayNewPurchaseOrder","hover","bordered","striped","responsive","size","displayListPermintaanBarang","createListPurchaseOrder","Component","compose","graphql","propTypes","tag","tagPropType","PropTypes","string","cssModule","object","CardHeader","Tag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","React","createElement","_extends","defaultProps","bool","borderless","dark","oneOfType","responsiveTag","innerRef","func","Table","ResponsiveTag","table","ref","responsiveClassName","_defineProperty","obj","Object","defineProperty","enumerable","configurable","writable","ownKeys","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread2","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties"],"mappings":"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","file":"static/js/29.364ecfea.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport {graphql} from 'react-apollo';\r\nimport * as compose from 'lodash.flowright';\r\nimport Swal from 'sweetalert2';\r\nimport { getVendorsQuery, getPurchaseOrdersQuery, addListItemPurchaseOrder,updateTotalHargaPurchaseOrder, updateAllStatusListRequest, getListRequestsQuery, updateVendorPurchaseOrderMutation, hapusPurchaseOrderMutation} from '../queries/queries';\r\nimport {  \r\n  Card, \r\n  CardBody, \r\n  CardHeader, \r\n  Col, \r\n  Button, \r\n  Row, \r\n  Table,\r\n  FormGroup,\r\n  Form,\r\n  Label,\r\n  Input\r\n} from 'reactstrap';\r\n\r\nclass BuatPurchaseOrder extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      orderItems: [],\r\n      kode:'',\r\n      status: 'Active',\r\n      satuan:'',\r\n      jenis:'',\r\n      orderid:'',\r\n      jenis_usaha:'',\r\n    }\r\n  }\r\n\r\n  displayNewPurchaseOrder(){\r\n    var data = this.props.getPurchaseOrdersQuery;\r\n    var tanggal = '';\r\n    var status = '';\r\n    var kode='';\r\n    var nama='';\r\n    var id='';\r\n    data.purchaseOrders.map(order => {\r\n      return(\r\n        tanggal = order.tanggal,\r\n        status = order.status,\r\n        kode = order.kode,\r\n        nama = order.akun.karyawan.nama,\r\n        id = order.id\r\n      );\r\n    });\r\n  \r\n    return(\r\n      <div>\r\n        <Form className=\"form-horizontal\">\r\n          <Row> \r\n            <Col md=\"4\">\r\n              <FormGroup row>\r\n                <Col md=\"4\">\r\n                  <Label htmlFor=\"name\">Kode Purchase Order</Label>\r\n                </Col>\r\n                <Col md=\"8\">\r\n                <Input type=\"text\" name=\"kode\" id=\"kode\" value={kode} disabled></Input> \r\n                </Col>\r\n              </FormGroup>\r\n            </Col>  \r\n            <Col md=\"4\">\r\n              <FormGroup row>\r\n              <Col md=\"4\">\r\n                  <Label htmlFor=\"name\">Status</Label>\r\n                </Col>\r\n                <Col md=\"8\">\r\n                <Input type=\"text\" name=\"kode\" id=\"kode\" value={status} disabled></Input> \r\n                </Col> \r\n              </FormGroup>\r\n            </Col>    \r\n          </Row>\r\n          <Row>\r\n          <Col md=\"4\">\r\n              <FormGroup row>\r\n              <Col md=\"4\">\r\n                  <Label htmlFor=\"name\">Dibuat Oleh</Label>\r\n                </Col>\r\n                <Col md=\"8\">\r\n                  <Input type=\"text\" name=\"kode\" id=\"kode\" value={nama} disabled></Input> \r\n                </Col> \r\n              </FormGroup>\r\n            </Col>  \r\n            <Col md=\"4\">\r\n              <FormGroup row>\r\n              <Col md=\"4\">\r\n                  <Label htmlFor=\"name\">Tanggal</Label>\r\n                </Col>\r\n                <Col md=\"8\">\r\n                  <Input type=\"text\" name=\"kode\" id=\"kode\" value={tanggal} disabled></Input> \r\n                </Col> \r\n              </FormGroup>\r\n            </Col> \r\n            <Col md=\"4\">\r\n            <FormGroup row>\r\n              <Col md=\"4\">\r\n                <Label htmlFor=\"name\">Vendor</Label>\r\n              </Col>\r\n              <Col md=\"8\">\r\n                <Input type=\"select\" name=\"vendor\" id=\"vendor\" onChange={(e) =>this.updateVendorPurchaseOrder(id, e.target.value)}>\r\n                  <option >Pilih Vendor</option>\r\n                  {this.displayVendor()} \r\n                </Input>\r\n              </Col> \r\n            </FormGroup>\r\n            </Col>\r\n          </Row>\r\n          </Form>\r\n      </div>\r\n      \r\n    );\r\n  }\r\n\r\n  updateVendorPurchaseOrder(order_id, vendor){\r\n    var id = vendor.substring(0,24);\r\n    var jenis = vendor.substring(25);\r\n    console.log(id);\r\n    console.log(jenis);\r\n    this.setState({jenis_usaha: jenis});\r\n    this.setState({orderid: order_id});\r\n    this.props.updateVendorPurchaseOrderMutation({\r\n      variables:{\r\n        id:order_id,\r\n        vendor_id: id,\r\n      },\r\n      refetchQueries:[{query:getPurchaseOrdersQuery}],\r\n    });\r\n  }\r\n\r\n  displayListPermintaanBarang(){\r\n    var items = [];\r\n    var total = 0;\r\n    if(this.state.jenis_usaha !== ''){\r\n      var data = this.props.getListRequestsQuery;\r\n      if(JSON.stringify(data) !== '{}') { // eslint-disable-next-line\r\n        return data.listrequests.map(barang => {\r\n          if(barang.jenis === this.state.jenis_usaha){\r\n            if(barang.status === 'Active'){\r\n              var har = 0;\r\n              var sama = false; var jum = 0;\r\n              if(items.length === 0){\r\n                har = parseInt(barang.jumlah_barang)*parseInt(barang.harga);\r\n                total = total+har;\r\n                const newItem = { nama: barang.nama_barang, jumlah: barang.jumlah_barang, satuan: barang.satuan, jenis: barang.jenis, harga: har};\r\n                items.push(newItem);\r\n              } else { // eslint-disable-next-line\r\n                items.map(item => {\r\n                  if(item.nama === barang.nama_barang){\r\n                    sama = true;\r\n                    jum = parseInt(item.jumlah)+parseInt(barang.jumlah_barang);\r\n                  }\r\n                });\r\n                if (sama === true){\r\n                  var hrg=0;\r\n                   har = parseInt(barang.jumlah_barang)*parseInt(barang.harga); // eslint-disable-next-line\r\n                   items.map(item =>{\r\n                     if (item.nama === barang.nama_barang){\r\n                       hrg = har + item.harga\r\n                     }\r\n                   })\r\n                   total = total+har;\r\n                    items = items.map(\r\n                      el => el.nama === barang.nama_barang? { ...el, jumlah : jum}: el\r\n                    )\r\n                    items = items.map(\r\n                      el => el.nama === barang.nama_barang? { ...el, harga : hrg}: el\r\n                    )\r\n                } else {\r\n                  har = parseInt(barang.jumlah_barang)*parseInt(barang.harga);\r\n                  total = total+har;\r\n                  const newItem = { nama: barang.nama_barang, jumlah: barang.jumlah_barang, satuan: barang.satuan, jenis: barang.jenis, harga: har};\r\n                  items.push(newItem);\r\n                }\r\n              }\r\n              return (\r\n                <tr key={barang.id}>\r\n                  <td>{barang.nama_barang}</td>\r\n                  <td>{barang.satuan}</td>\r\n                  <td>{barang.jumlah_barang}</td>\r\n                  <td>{barang.harga}</td>\r\n                  <td>{har}</td>\r\n                </tr>\r\n              )\r\n              }\r\n            }\r\n          }\r\n        )\r\n      } else {\r\n        return(\r\n          <div align=\"center\">Tidak Ada Barang yang Perlu Dibeli</div>\r\n        )\r\n      }\r\n    } else{\r\n      return(\r\n        <div align=\"center\">Pilih Vendor</div>\r\n      )\r\n    }\r\n  }\r\n\r\n   displayVendor(){\r\n    var data = this.props.getVendorsQuery;\r\n    if(data.loading){\r\n      return (<div>Loading Divisi...</div>);\r\n    } else {\r\n      return data.vendors.map(vendor => {\r\n        return(\r\n          <option key={vendor.id} value={[vendor.id, vendor.jenis_usaha]}>{vendor.nama}</option>\r\n        );\r\n      });\r\n    }\r\n  }\r\n\r\n  onDelete(){\r\n    var data = this.props.getPurchaseOrdersQuery;\r\n    var order_id = '';\r\n    data.purchaseOrders.map(order => {\r\n      return(\r\n        order_id = order.id\r\n      );\r\n    });\r\n\r\n    this.props.hapusPurchaseOrderMutation({\r\n      variables:{\r\n        id: order_id,        \r\n      },\r\n      refetchQueries:[{query:getPurchaseOrdersQuery}],\r\n    });\r\n    this.props.history.push(\"/purchaseOrder/purchaseOrder\");\r\n  }\r\n\r\n  createListPurchaseOrder(){\r\n    var items = [];\r\n    var total = 0;\r\n    if(this.state.jenis_usaha !== ''){\r\n      var data = this.props.getListRequestsQuery;  \r\n      if(JSON.stringify(data) !== '{}') { // eslint-disable-next-line\r\n        data.listrequests.map(barang => {\r\n          if(barang.jenis === this.state.jenis_usaha){\r\n            if(barang.status === 'Active'){\r\n                var har = 0;\r\n                var sama = false; var jum = 0;\r\n                if(items.length === 0){\r\n                  har = parseInt(barang.jumlah_barang)*parseInt(barang.harga);\r\n                  total = total+har;\r\n                  const newItem = { nama: barang.nama_barang, jumlah: barang.jumlah_barang, satuan: barang.satuan, jenis: barang.jenis, harga: har};\r\n                  items.push(newItem);\r\n                } else { // eslint-disable-next-line\r\n                  items.map(item => {\r\n                    if(item.nama === barang.nama_barang){\r\n                      sama = true;\r\n                      jum = parseInt(item.jumlah)+parseInt(barang.jumlah_barang);\r\n                    }\r\n                  });\r\n                  if (sama === true){\r\n                    var hrg=0; \r\n                     har = parseInt(barang.jumlah_barang)*parseInt(barang.harga); // eslint-disable-next-line\r\n                     items.map(item =>{\r\n                       if (item.nama === barang.nama_barang){\r\n                         hrg = har + item.harga\r\n                       }\r\n                     })\r\n                     total = total+har;\r\n                      items = items.map(\r\n                        el => el.nama === barang.nama_barang? { ...el, jumlah : jum}: el\r\n                      )\r\n                      items = items.map(\r\n                        el => el.nama === barang.nama_barang? { ...el, harga : hrg}: el\r\n                      )\r\n                  } else {\r\n                    har = parseInt(barang.jumlah_barang)*parseInt(barang.harga);\r\n                    total = total+har;\r\n                    const newItem = { nama: barang.nama_barang, jumlah: barang.jumlah_barang, satuan: barang.satuan, jenis: barang.jenis, harga: har};\r\n                    items.push(newItem);\r\n                  }\r\n                }\r\n            }\r\n            \r\n          }\r\n        })\r\n      } \r\n      if(items.length === 0){\r\n        Swal.fire({\r\n          position: 'center',\r\n          icon: 'error',\r\n          title: 'Tidak Ada Daftar Barang',\r\n          text: 'Silahkan Pilih Vendor Lain',\r\n          showConfirmButton: true,\r\n        })\r\n      } else { // eslint-disable-next-line\r\n        var data = this.props.getPurchaseOrdersQuery;\r\n          var orderid = '';\r\n          data.purchaseOrders.map(request => {\r\n            return(\r\n              orderid = request.id\r\n            );\r\n          });\r\n          this.props.updateTotalHargaPurchaseOrder({\r\n            variables:{\r\n              id: orderid,\r\n              total_harga: total,\r\n            },\r\n            refetchQueries:[{query:getPurchaseOrdersQuery}],\r\n          })\r\n                  \r\n          items.map(item => {\r\n            return(\r\n              this.props.updateAllStatusListRequest({\r\n               variables:{\r\n                  nama: item.nama,\r\n                  status: \"Proses\",\r\n                  order_id: orderid,\r\n                },\r\n                refetchQueries:[{query:getPurchaseOrdersQuery}],\r\n               })\r\n             )\r\n          })\r\n          items.map(item => {\r\n            return(\r\n              this.props.addListItemPurchaseOrder({\r\n                variables:{\r\n                  nama_barang: item.nama,\r\n                  jumlah_barang: parseInt(item.jumlah),\r\n                  satuan: item.satuan,\r\n                  jenis: item.jenis,\r\n                  purchaseOrder_id: orderid,\r\n                  harga: parseInt(item.harga),\r\n                  status: 'Waiting',\r\n                },\r\n                refetchQueries:[{query:getPurchaseOrdersQuery}, {query:getListRequestsQuery}],\r\n              })\r\n            );\r\n          });\r\n          this.props.history.push(\"/purchaseOrder/purchaseOrder\");\r\n          Swal.fire({\r\n            position: 'center',\r\n            icon: 'success',\r\n            title: 'Pembelian Barang Berhasil Disimpan',\r\n            showConfirmButton: true,\r\n          })\r\n      }\r\n    } else {\r\n      Swal.fire({\r\n        position: 'center',\r\n        icon: 'error',\r\n        title: 'Pembelian Barang Gagal',\r\n        text: 'Silahkan Pilih Vendor Lain',\r\n        showConfirmButton: true,\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"animated fadeIn\">\r\n        <Row>\r\n          <Col>\r\n            <Card>\r\n              <CardHeader>\r\n                Form Buat Pembelian Barang\r\n                  <Button color=\"danger\" onClick={this.onDelete.bind(this)} className={'float-right mb-0'}>\r\n                      Batal\r\n                  </Button>\r\n              </CardHeader>\r\n              <CardBody>\r\n                {this.displayNewPurchaseOrder()}\r\n                <hr />\r\n                <Row align=\"center\">\r\n                  <h5>Daftar Kebutuhan Barang</h5>\r\n                </Row>\r\n                <Table hover bordered striped responsive size=\"sm\">\r\n                  <thead align=\"center\">\r\n                    <tr>\r\n                      <th>Nama Barang</th>\r\n                      <th>Satuan</th>\r\n                      <th>Jumlah</th>\r\n                      <th>Harga</th>\r\n                      <th>Total</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody align=\"center\">\r\n                  {this.displayListPermintaanBarang()}\r\n                  </tbody>\r\n                  </Table>\r\n                  <div align=\"center\">\r\n                    <Button onClick={(e) => {this.createListPurchaseOrder(e)}} color=\"primary\">Submit</Button>\r\n                  </div>\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n        \r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  \r\n  graphql(getVendorsQuery, {name:\"getVendorsQuery\"}),\r\n  graphql(getPurchaseOrdersQuery, {name:\"getPurchaseOrdersQuery\"}),\r\n  graphql(getListRequestsQuery, {name:\"getListRequestsQuery\"}),\r\n  graphql(updateAllStatusListRequest, {name:\"updateAllStatusListRequest\"}),\r\n  graphql(updateVendorPurchaseOrderMutation, {name:\"updateVendorPurchaseOrderMutation\"}),\r\n  graphql(addListItemPurchaseOrder, {name:\"addListItemPurchaseOrder\"}),\r\n  graphql(hapusPurchaseOrderMutation, {name:\"hapusPurchaseOrderMutation\"}),\r\n  graphql(updateTotalHargaPurchaseOrder, {name:\"updateTotalHargaPurchaseOrder\"}),\r\n\r\n)(BuatPurchaseOrder);\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardHeader = function CardHeader(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card-header'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardHeader.propTypes = propTypes;\nCardHeader.defaultProps = defaultProps;\nexport default CardHeader;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  bordered: PropTypes.bool,\n  borderless: PropTypes.bool,\n  striped: PropTypes.bool,\n  dark: PropTypes.bool,\n  hover: PropTypes.bool,\n  responsive: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  tag: tagPropType,\n  responsiveTag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n};\nvar defaultProps = {\n  tag: 'table',\n  responsiveTag: 'div'\n};\n\nvar Table = function Table(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      bordered = props.bordered,\n      borderless = props.borderless,\n      striped = props.striped,\n      dark = props.dark,\n      hover = props.hover,\n      responsive = props.responsive,\n      Tag = props.tag,\n      ResponsiveTag = props.responsiveTag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"size\", \"bordered\", \"borderless\", \"striped\", \"dark\", \"hover\", \"responsive\", \"tag\", \"responsiveTag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'table', size ? 'table-' + size : false, bordered ? 'table-bordered' : false, borderless ? 'table-borderless' : false, striped ? 'table-striped' : false, dark ? 'table-dark' : false, hover ? 'table-hover' : false), cssModule);\n  var table = React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n\n  if (responsive) {\n    var responsiveClassName = mapToCssModules(responsive === true ? 'table-responsive' : \"table-responsive-\" + responsive, cssModule);\n    return React.createElement(ResponsiveTag, {\n      className: responsiveClassName\n    }, table);\n  }\n\n  return table;\n};\n\nTable.propTypes = propTypes;\nTable.defaultProps = defaultProps;\nexport default Table;","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}"],"sourceRoot":""}