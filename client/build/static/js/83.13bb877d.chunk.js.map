{"version":3,"sources":["views/Logistik/Request/EditRequest.js","views/Logistik/queries/queries.js"],"names":["EditRequest","props","submitRequest","e","data","getRequestsQuery","request_id","requests","map","request","id","state","requestItems","item","addListRequestMutation","variables","nama_barang","nama","jumlah_barang","parseInt","jumlah","satuan","jenis","refetchQueries","query","getListRequestsQuery","loggedIn","localStorage","getItem","status","redirect","selected","this","md","divisi","tanggal","listRequest","length","newItem","setState","push","preventDefault","modalEdit","index","findIndex","x","modalDelete","splice","req_id","match","params","hapusManyListRequestMutation","getBarangsQuery","loading","barangs","barang","key","value","modalIsOpen","name","toggleModal","to","className","label","color","displayRequestDetail","onClick","bind","size","hover","bordered","striped","responsive","toggleModalEdit","toggleModalDelete","onUpdate","isOpen","onSubmit","addItem","htmlFor","type","onChange","target","required","displayBarang","placeholder","onEdit","onDelete","Component","compose","graphql","getRequestQuery","options","getVendorsQuery","gql","getPeralatansQuery","getDivisisQuery","getOrdersQuery","getKaryawansQuery","addPeralatanMutation","hapusPeralatanMutation","addVendorMutation","hapusVendorMutation","addDivisiMutation","hapusDivisiMutation","addRequestMutation","hapusRequestMutation","addBarangMutation","hapusBarangMutation","addAkunMutation","getAkunQuery","getBarangQuery","getPeralatanQuery","getVendorQuery"],"mappings":"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","file":"static/js/83.13bb877d.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport {graphql} from 'react-apollo';\r\nimport * as compose from 'lodash.flowright';\r\nimport { hapusManyListRequestMutation, getRequestsQuery, getBarangsQuery, getListRequestsQuery, addListRequestMutation, getRequestQuery} from '../queries/queries';\r\nimport {  \r\n  Card, \r\n  CardBody, \r\n  CardHeader, \r\n  Col, \r\n  Button, \r\n  Row, \r\n  Table,\r\n  FormGroup,\r\n  Form,\r\n  Label,\r\n  Input,\r\n  Modal,\r\n  ModalHeader, \r\n  ModalBody,\r\n} from 'reactstrap';\r\n\r\nclass EditRequest extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    const username= localStorage.getItem(\"username\")\r\n\r\n    let loggedIn = true \r\n      if(username == null){\r\n        loggedIn = false\r\n      }\r\n    this.state = {\r\n      requestItems: [],\r\n      nama:'',\r\n      status: 'Active',\r\n      jumlah:'',\r\n      satuan:'',\r\n      jenis:'',\r\n      redirect: true,\r\n      selected: null,\r\n      loggedIn,\r\n    }\r\n  }\r\n\r\n\r\n\r\n  displayRequestDetail(){\r\n    const {request} = this.props.data;\r\n    if(request){\r\n\r\n      return(\r\n        <CardBody>\r\n          <Row>\r\n            <Col md=\"4\">\r\n              <h5>Divisi : {request.divisi.nama}</h5>\r\n            </Col>\r\n            <Col md=\"4\">\r\n              <h5>Tanggal : {request.tanggal}</h5>\r\n            </Col>\r\n            <Col md=\"4\">\r\n              <h5>Status : {request.status}</h5>\r\n            </Col>\r\n          </Row>\r\n          \r\n              {\r\n                request.listRequest.map(item => {\r\n                 if(this.state.requestItems.length === 0){\r\n                    const newItem = { nama: item.nama_barang, jumlah: item.jumlah_barang, satuan: item.satuan, jenis: item.jenis, status: this.state.status};\r\n                    this.setState(state => {\r\n                      state.requestItems.push(newItem);\r\n                    });\r\n                  }\r\n                })\r\n              }\r\n           \r\n        </CardBody>\r\n      )\r\n    }\r\n  }\r\n\r\n  onEdit(e){\r\n    e.preventDefault();\r\n    this.setState({\r\n      modalEdit: ! this.state.modalEdit\r\n    });\r\n    var index = this.state.requestItems.findIndex(x => x.nama === this.state.nama);\r\n    this.state.requestItems[index].jumlah = this.state.jumlah;\r\n  }\r\n\r\n   onDelete(e){\r\n    e.preventDefault();\r\n    this.setState({\r\n      modalDelete: ! this.state.modalDelete\r\n    });\r\n    var index = this.state.requestItems.findIndex(x => x.nama === this.state.nama);\r\n    this.setState( state => {\r\n      state.requestItems.splice(index, 1);\r\n    });\r\n  }\r\n\r\n  onUpdate(){\r\n    var req_id = this.props.match.params.id;\r\n    this.props.hapusManyListRequestMutation({\r\n      variables:{\r\n        id: req_id,        \r\n      },\r\n      refetchQueries:[{query:getRequestsQuery}],\r\n    });\r\n    this.state.requestItems.map(item => {\r\n      return(\r\n        this.props.addListRequestMutation({\r\n          variables:{\r\n            nama_barang: item.nama,\r\n            jumlah_barang: parseInt(item.jumlah),\r\n            satuan: item.satuan,\r\n            jenis: item.jenis,\r\n            request_id: req_id,\r\n          },\r\n          refetchQueries:[{query:getListRequestsQuery}],\r\n        })\r\n      );\r\n    });\r\n  }\r\n\r\n  displayBarang(){\r\n    var data = this.props.getBarangsQuery;\r\n    if(data.loading){\r\n      return (<div>Loading Barang...</div>);\r\n    } else {\r\n      return data.barangs.map(barang => {\r\n        return(\r\n          <option key={barang.id} value={barang.nama_barang}>{barang.nama_barang}</option>\r\n        );\r\n      });\r\n    }\r\n  }\r\n\r\n  toggleModal(){\r\n    this.setState({\r\n      modalIsOpen: ! this.state.modalIsOpen\r\n    });\r\n  }\r\n\r\n  toggleModalEdit(name){\r\n    this.setState({\r\n      nama : name\r\n    });\r\n    this.setState({\r\n      modalEdit: ! this.state.modalEdit\r\n    });\r\n  }\r\n\r\n  toggleModalDelete(name){\r\n    this.setState({\r\n      nama : name\r\n    });\r\n    this.setState({\r\n      modalDelete: ! this.state.modalDelete\r\n    });\r\n  }\r\n\r\n  addItem(e){\r\n    e.preventDefault();\r\n    this.toggleModal();\r\n    const newItem = { nama: this.state.nama, jumlah: this.state.jumlah, satuan: this.state.satuan, jenis: this.state.jenis, status: this.state.status};\r\n    this.setState(state => {\r\n      state.requestItems.push(newItem);\r\n    });\r\n  }\r\n\r\n\r\n  submitRequest = (e) => {\r\n      var data = this.props.getRequestsQuery;\r\n      var request_id = '';\r\n      data.requests.map(request => {\r\n          return(\r\n             request_id = request.id\r\n          );\r\n      });\r\n      this.state.requestItems.map(item => {\r\n        return(\r\n          this.props.addListRequestMutation({\r\n            variables:{\r\n              nama_barang: item.nama,\r\n              jumlah_barang: parseInt(item.jumlah),\r\n              satuan: item.satuan,\r\n              jenis: item.jenis,\r\n              request_id: request_id,\r\n            },\r\n            refetchQueries:[{query:getListRequestsQuery}],\r\n          })\r\n        );\r\n      });\r\n  }\r\n  \r\n  render() {\r\n     if(this.state.loggedIn === false){\r\n      return <Redirect to=\"/login\" />\r\n    }\r\n    return (\r\n      <div className=\"animated fadeIn\">\r\n        <Row>\r\n          <Col>\r\n            <Card>\r\n              <CardHeader>\r\n                Form Edit Permintaan Barang\r\n                <Link to=\"/request/request\" className={'float-right mb-0'}>\r\n                  <Button label color=\"danger\">\r\n                      Batal\r\n                  </Button>\r\n                </Link>\r\n              </CardHeader>\r\n              <CardBody>\r\n               {this.displayRequestDetail()}\r\n               <Button onClick={this.toggleModal.bind(this)} size=\"sm\" color=\"success\" className={'float-right mb-0'}><i className=\"fa fa-plus-circle\"></i> Tambah Barang</Button>\r\n                <Table hover bordered striped responsive size=\"sm\" className=\"mt-3\">\r\n                    <thead>\r\n                    <tr>\r\n                      <th>Nama Barang</th>\r\n                      <th>Jumlah</th>\r\n                      <th>Satuan</th>\r\n                      <th>Jenis Barang</th>\r\n                      <th>status</th>\r\n                      <th>Edit</th>\r\n                      <th>Hapus</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {\r\n                         this.state.requestItems.map(item => {\r\n                          return(\r\n                            <tr>\r\n                              <td>{item.nama}</td>\r\n                              <td>{item.jumlah}</td>\r\n                              <td>{item.satuan}</td>\r\n                              <td>{item.jenis}</td>\r\n                              <td>{item.status}</td>\r\n                              <td>\r\n                                <Button onClick={(e) => {this.toggleModalEdit(item.nama)}}>Edit</Button>\r\n                              </td>\r\n                              <td>\r\n                                <Button onClick={(e) => {this.toggleModalDelete(item.nama)}}>Hapus</Button>\r\n                              </td>\r\n                            </tr>\r\n                          ) \r\n                         })\r\n                      }\r\n                    </tbody>\r\n                  </Table>\r\n              </CardBody>\r\n              <Link to='/request/request' className={'text-center mb-3'}>\r\n                <Button onClick={this.onUpdate.bind(this)} color=\"primary\" >Simpan</Button>\r\n              </Link>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n        <Modal isOpen={this.state.modalIsOpen}>\r\n          <ModalHeader>Form Tambah Barang</ModalHeader>\r\n          <ModalBody>\r\n            <Form onSubmit={(e) => {this.addItem(e)}}>\r\n              <FormGroup>\r\n                <Label htmlFor=\"name\">Nama Barang</Label>\r\n                <Input type=\"select\" name=\"nama\" onChange={(e) =>this.setState({nama:e.target.value})} id=\"nama\" required>\r\n                  <option>Nama Barang</option>\r\n                  {this.displayBarang()}\r\n                </Input>\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Label htmlFor=\"name\">Jenis Barang</Label>\r\n                <Input type=\"select\" id=\"jenis\" onChange={(e) =>this.setState({jenis:e.target.value})} required>\r\n                  <option>Jenis</option>\r\n                  <option value=\"Bahan Alam\">Bahan Alam</option>\r\n                  <option value=\"Besi\">Besi</option>\r\n                  <option value=\"Cat\">Cat</option>\r\n                  <option value=\"Kayu\">Kayu</option>\r\n                  <option value=\"Keramik\">Keramik</option>\r\n                  <option value=\"Material\">Material</option>\r\n                </Input>\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Label htmlFor=\"name\">Satuan</Label>\r\n                <Input type=\"select\" name=\"satuan\" id=\"satuan\" onChange={(e) =>this.setState({satuan:e.target.value})}>\r\n                  <option>Satuan</option>\r\n                  <option value=\"Kg\">Kg</option>\r\n                  <option value=\"Buah\">Buah</option>\r\n                  <option value=\"Meter\">Meter</option>\r\n                  <option value=\"Lembar\">Lembar</option>\r\n                  <option value=\"Liter\">Liter</option>\r\n                  <option value=\"Sak\">Sak</option>\r\n                  <option value=\"m3\">m3</option>\r\n                </Input>\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Label htmlFor=\"name\">Jumlah Barang</Label>\r\n                <Input type=\"number\" id=\"jumlah\" onChange={(e) =>this.setState({jumlah:e.target.value})} placeholder=\"Jumlah Barang\" required />\r\n              </FormGroup>\r\n              <Button type=\"submit\" color=\"primary\">Tambah</Button>\r\n              <Button color=\"danger\" onClick={this.toggleModal.bind(this)}>Batal</Button>\r\n            </Form>\r\n          </ModalBody>  \r\n        </Modal>\r\n        <Modal isOpen={this.state.modalEdit}>\r\n          <ModalHeader>Edit Jumlah Barang</ModalHeader>\r\n          <ModalBody>\r\n            <Form onSubmit={(e) => {this.onEdit(e)}}>\r\n              <FormGroup>\r\n                <Label htmlFor=\"name\">Jumlah Barang</Label>\r\n                <Input type=\"number\" id=\"jumlah\" onChange={(e) =>this.setState({jumlah:e.target.value})} placeholder=\"Jumlah Barang\" required />\r\n              </FormGroup>\r\n              <Button type=\"submit\" color=\"primary\">Tambah</Button>\r\n              <Button color=\"danger\" onClick={this.toggleModalEdit.bind(this)}>Batal</Button>\r\n            </Form>\r\n          </ModalBody>  \r\n        </Modal>\r\n        <Modal isOpen={this.state.modalDelete}>\r\n          <ModalBody className=\"text-center\">\r\n            <Form onSubmit={(e) => {this.onDelete(e)}}>\r\n              <h5> APAKAH ANDA YAKIN MENGHAPUS ITEM INI ? </h5>\r\n              <Button type=\"submit\" color=\"primary\" className=\"mr-3\">IYA</Button>\r\n              <Button color=\"danger\" onClick={this.toggleModalDelete.bind(this)}>TIDAK</Button>\r\n            </Form>\r\n          </ModalBody>  \r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose( \r\n  graphql(getRequestQuery, {\r\n    options:(props) => {\r\n      return{\r\n        variables:{\r\n          id: props.match.params.id\r\n        }\r\n      }\r\n    }\r\n  }),\r\n  graphql(getBarangsQuery, {name:\"getBarangsQuery\"}),\r\n  graphql(getRequestsQuery, {name:\"getRequestsQuery\"}),\r\n  graphql(getListRequestsQuery, {name:\"getListRequestsQuery\"}),\r\n  graphql(addListRequestMutation, {name:\"addListRequestMutation\"}),\r\n  graphql(hapusManyListRequestMutation, {name:\"hapusManyListRequestMutation\"}),\r\n  \r\n)(EditRequest);\r\n","import {gql} from 'apollo-boost';\r\n\r\nconst getVendorsQuery = gql`\r\n{\r\n\tvendors {\r\n\t\tnama\r\n\t\tjenis_usaha\r\n\t\talamat\r\n\t\temail\r\n\t\tnoTlp\r\n\t\tid\r\n\t}\r\n}\r\n`\r\n\r\nconst getPeralatansQuery = gql`\r\n{\r\n\tperalatans {\r\n\t\tnama\r\n\t\tjumlah\r\n\t\tharga\r\n\t\tsewa\r\n\t\tid\r\n\t}\r\n}\r\n`\r\nconst getDivisisQuery = gql`\r\n{\r\n\tdivisis {\r\n\t\tnama\r\n\t\tid\r\n\t}\r\n}\r\n`\r\nconst getRequestsQuery = gql`\r\n{\r\n\trequests {\r\n\t\ttanggal\r\n\t\tstatus\r\n\t\tid\r\n\t\tdivisi{\r\n\t\t\tnama\r\n\t\t}\r\n\t}\r\n}\r\n`\r\nconst getListRequestsQuery = gql`\r\n{\r\n\tlistrequests {\r\n\t\tnama_barang\r\n\t\tjumlah_barang\r\n\t\tjenis\r\n\t\tsatuan\r\n\t\tid\r\n\t\trequest{\r\n\t\t\tstatus\r\n\t\t\ttanggal\r\n\t\t\tdivisi{\r\n\t\t\t\tnama\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n`\r\n\r\nconst getOrdersQuery = gql`\r\n{\r\n\torders {\r\n\t\tkode\r\n\t\ttanggal\r\n\t\tjenis\r\n\t\tstatus\r\n\t\tid\r\n\t\tvendor{\r\n\t\t\tnama\r\n\t\t\tjenis_usaha\r\n\t\t}\r\n\t}\r\n}\r\n`\r\n\r\nconst getBarangsQuery = gql`\r\n{\r\n\tbarangs {\r\n\t\tnama_barang\r\n\t\tjenis_barang\r\n\t\tsatuan\r\n\t\tharga\r\n\t\tid\r\n\t}\r\n}\r\n`\r\n\r\nconst getKaryawansQuery = gql`\r\n{\r\n\tkaryawans {\r\n\t\tnama\r\n\t\tjabatan\r\n\t\talamat\r\n\t\tnoHp\r\n\t\tavatar\r\n\t\tdivisi{\r\n\t\t\tnama\r\n\t\t}\r\n\t\tid\r\n\t}\r\n}\r\n`\r\n\r\nconst addPeralatanMutation = gql`\r\n\tmutation($nama:String!, $jumlah:Int!, $harga:Int!, $sewa:Int!){\r\n\t\taddPeralatan(nama: $nama, jumlah: $jumlah, harga: $harga, sewa: $sewa){\r\n\t\t\tnama\r\n\t\t\tjumlah\r\n\t\t\tharga\r\n\t\t\tsewa\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\nconst hapusPeralatanMutation = gql`\r\n\tmutation($id:ID!){\r\n\t\thapusPeralatan(id: $id){\r\n\t\t\tnama\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n\r\nconst addVendorMutation = gql`\r\n\tmutation($nama:String!, $jenis_usaha:String!, $alamat:String!, $email:String!, $noTlp:String!){\r\n\t\taddVendor(nama: $nama, jenis_usaha: $jenis_usaha, alamat:$alamat, email:$email, noTlp:$noTlp){\r\n\t\t\tnama\r\n\t\t\tjenis_usaha\r\n\t\t\talamat\r\n\t\t\temail\r\n\t\t\tnoTlp\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\nconst hapusVendorMutation = gql`\r\n\tmutation($id:ID!){\r\n\t\thapusVendor(id: $id){\r\n\t\t\tnama\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n\r\nconst addDivisiMutation = gql`\r\n\tmutation($nama:String!){\r\n\t\taddDivisi(nama: $nama){\r\n\t\t\tnama\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n\r\nconst hapusDivisiMutation = gql`\r\n\tmutation($id:ID!){\r\n\t\thapusDivisi(id: $id){\r\n\t\t\tnama\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n\r\nconst addRequestMutation = gql`\r\n\tmutation($tanggal:String!, $status:String!, $divisi_id: ID!){\r\n\t\taddRequest(tanggal: $tanggal, status: $status, divisi_id: $divisi_id){\r\n\t\t\ttanggal\r\n\t\t\tstatus\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\nconst hapusRequestMutation = gql`\r\n\tmutation($id:ID!){\r\n\t\thapusRequest(id: $id){\r\n\t\t\tstatus\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n\r\nconst addListRequestMutation = gql`\r\n\tmutation($nama_barang:String!, $jumlah_barang:Int!, $satuan:String!, $jenis:String!, $request_id: ID!){\r\n\t\taddListRequest(nama_barang: $nama_barang, jumlah_barang: $jumlah_barang, satuan:$satuan, jenis:$jenis, request_id: $request_id){\r\n\t\t\tnama_barang\r\n\t\t\tjumlah_barang\r\n\t\t\tsatuan\r\n\t\t\tjenis\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\nconst hapusManyListRequestMutation = gql`\r\n\tmutation($id:ID!){\r\n\t\thapusManyListRequest(id: $id){\r\n\t\t\tnama_barang\r\n\t\t\tjumlah_barang\r\n\t\t\tsatuan\r\n\t\t\tjenis\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n\r\nconst hapusListRequestMutation = gql`\r\n\tmutation($id:ID!){\r\n\t\thapusListRequest(id: $id){\r\n\t\t\tnama_barang\r\n\t\t\tjumlah_barang\r\n\t\t\tsatuan\r\n\t\t\tjenis\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n\r\nconst addBarangMutation = gql`\r\n\tmutation($nama_barang:String!, $jenis_barang:String!, $satuan:String!, $harga:Int!){\r\n\t\taddBarang(nama_barang: $nama_barang, jenis_barang: $jenis_barang, satuan:$satuan, harga:$harga){\r\n\t\t\tnama_barang\r\n\t\t\tjenis_barang\r\n\t\t\tsatuan\r\n\t\t\tharga\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\nconst hapusBarangMutation = gql`\r\n\tmutation($id:ID!){\r\n\t\thapusBarang(id: $id){\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n\r\nconst addAkunMutation = gql`\r\n\tmutation($username:String!, $password:String!, $karyawan_id:ID!){\r\n\t\taddAkun(username: $username, password: $password, karyawan_id:$karyawan_id){\r\n\t\t\tusername\r\n\t\t\tpassword\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n\r\nconst getAkunQuery = gql`\r\n\tquery($username: String!, $password: String!){\r\n\t\takun(username: $username, password: $password) {\r\n\t\t\tusername\r\n\t\t\tpassword\r\n\t\t\tkaryawan{\r\n\t\t\t\tnama\r\n\t\t\t\tjabatan\r\n\t\t\t\talamat\r\n\t\t\t\tnoHp\r\n\t\t\t\tavatar\r\n\t\t\t\tid\r\n\t\t\t\tdivisi{\r\n\t\t\t\t\tnama\r\n\t\t\t\t\tid\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n\r\nconst getBarangQuery = gql`\r\n\tquery($id: ID){\r\n\t\tbarang(id: $id) {\r\n\t\t\tnama_barang\r\n\t\t\tjenis_barang\r\n\t\t\tsatuan\r\n\t\t\tharga\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n\r\nconst getPeralatanQuery = gql`\r\n\tquery($id: ID){\r\n\t\tperalatan(id: $id) {\r\n\t\t\tnama\r\n\t\t\tjumlah\r\n\t\t\tharga\r\n\t\t\tsewa\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n\r\nconst getVendorQuery = gql`\r\n\tquery($id: ID){\r\n\t\tvendor(id: $id) {\r\n\t\t\tnama\r\n\t\t\tjenis_usaha\r\n\t\t\talamat\r\n\t\t\temail\r\n\t\t\tnoTlp\r\n\t\t\tid\r\n\t\t}\r\n\t}\r\n`\r\n\r\nconst getRequestQuery = gql`\r\n\tquery($id:ID){\r\n\t\trequest(id: $id) {\r\n\t\t\ttanggal\r\n\t\t\tstatus\r\n\t\t\tid\r\n\t\t\tdivisi{\r\n\t\t\t\tnama\r\n\t\t\t}\r\n\t\t\tlistRequest{\r\n\t\t\t\tnama_barang\r\n\t\t\t\tjumlah_barang\r\n\t\t\t\tjenis\r\n\t\t\t\tsatuan\r\n\t\t\t\tid\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`\r\n\r\n\r\nexport {\r\n\tgetVendorsQuery, \r\n\tgetPeralatansQuery,\r\n\tgetDivisisQuery,\r\n\tgetRequestsQuery,\r\n\tgetRequestQuery,\r\n\tgetListRequestsQuery,\r\n\tgetOrdersQuery,\r\n\tgetBarangsQuery,\r\n\tgetBarangQuery,\r\n\tgetPeralatanQuery,\r\n\taddDivisiMutation, \r\n\taddPeralatanMutation, \r\n\taddVendorMutation,\r\n\taddRequestMutation,\r\n\taddListRequestMutation,\r\n\taddBarangMutation,\r\n\thapusDivisiMutation,\r\n\thapusRequestMutation,\r\n\thapusListRequestMutation,\r\n\thapusBarangMutation,\r\n\thapusPeralatanMutation,\r\n\thapusVendorMutation,\r\n\tgetKaryawansQuery,\r\n\taddAkunMutation,\r\n\tgetAkunQuery,\r\n\tgetVendorQuery,\r\n\thapusManyListRequestMutation\r\n};"],"sourceRoot":""}