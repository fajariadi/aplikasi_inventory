(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[81],{359:function(e,a,t){"use strict";t.r(a);var n=t(22),l=t(23),r=t(25),i=t(24),m=t(2),u=t.n(m),c=t(375),s=t(70),o=t(73),d=t(65),E=t(66),h=t(67),g=t(64),p=t(71),b=t(68),v=t(74),f=t(83),k=t(84),y=t(85),j=t(93),I=t(91),_=t(92),O=t(101),B=t(104),N=t(105),C=t(81),F=function(e){Object(r.a)(t,e);var a=Object(i.a)(t);function t(e){var l;return Object(n.a)(this,t),(l=a.call(this,e)).state={nama:"",barang_id:"",jumlah:0,modalIsOpen:!1,harga:0,sewa:0},l}return Object(l.a)(t,[{key:"displayInventaris",value:function(){var e=this.props.getAllInventarisQuery,a=0;return e.loading?void 0:e.allInventaris.map((function(e){return a++,u.a.createElement("tr",{key:e.id},u.a.createElement("td",null,a),u.a.createElement("td",null,e.barang.nama_barang),u.a.createElement("td",null,e.jumlah),u.a.createElement("td",null,e.jumlah_diperbaiki),u.a.createElement("td",null,e.jumlah_dipakai),u.a.createElement("td",null,e.jumlah-e.jumlah_diperbaiki-e.jumlah_dipakai))}))}},{key:"displayBarang",value:function(){var e=this.props.getBarangsQuery;return e.loading?u.a.createElement("div",null,"Loading Barang..."):e.barangs.map((function(e){if("Perkakas"===e.jenis_barang)return u.a.createElement("option",{key:e.id,value:e.id},e.nama_barang)}))}},{key:"toggleModal",value:function(){this.setState({modalIsOpen:!this.state.modalIsOpen})}},{key:"submitForm",value:function(e){e.preventDefault(),this.toggleModal(),this.props.addInventaris({variables:{barang_id:this.state.barang_id,jumlah:parseInt(this.state.jumlah),status:"Available",jumlah_dipakai:0,jumlah_diperbaiki:0},refetchQueries:[{query:o.r}]})}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"animated fadeIn"},u.a.createElement(d.a,null,u.a.createElement(E.a,null,u.a.createElement(h.a,null,u.a.createElement(g.a,null,u.a.createElement("i",{className:"fa fa-align-justify"}),"Inventaris",u.a.createElement(p.a,{size:"sm",color:"primary",className:"float-right mb-0",onClick:this.toggleModal.bind(this)},u.a.createElement("i",{className:"fa fa-plus"})," Tambah Inventaris")),u.a.createElement(b.a,null,u.a.createElement(v.a,{hover:!0,bordered:!0,striped:!0,responsive:!0,size:"sm"},u.a.createElement("thead",{align:"center"},u.a.createElement("tr",null,u.a.createElement("th",null,"No"),u.a.createElement("th",null,"Nama Barang"),u.a.createElement("th",null,"Jumlah"),u.a.createElement("th",null,"Diperbaiki"),u.a.createElement("th",null,"Dipakai"),u.a.createElement("th",null,"Tersedia"))),u.a.createElement("tbody",{align:"center"},this.displayInventaris())),u.a.createElement("nav",null,u.a.createElement(f.a,null,u.a.createElement(k.a,null,u.a.createElement(y.a,{previous:!0,tag:"button"},"Prev")),u.a.createElement(k.a,{active:!0},u.a.createElement(y.a,{tag:"button"},"1")),u.a.createElement(k.a,null,u.a.createElement(y.a,{tag:"button"},"2")),u.a.createElement(k.a,null,u.a.createElement(y.a,{tag:"button"},"3")),u.a.createElement(k.a,null,u.a.createElement(y.a,{tag:"button"},"4")),u.a.createElement(k.a,null,u.a.createElement(y.a,{next:!0,tag:"button"},"Next")))))))),u.a.createElement(j.a,{isOpen:this.state.modalIsOpen},u.a.createElement(I.a,null,"Form Inventaris"),u.a.createElement(_.a,null,u.a.createElement(O.a,{onSubmit:function(a){e.submitForm(a)}},u.a.createElement(B.a,null,u.a.createElement(N.a,{htmlFor:"name"},"Nama Barang"),u.a.createElement(C.a,{type:"select",name:"nama",onChange:function(a){return e.setState({barang_id:a.target.value})},id:"nama",required:!0},u.a.createElement("option",null,"Nama Barang"),this.displayBarang())),u.a.createElement(B.a,null,u.a.createElement(N.a,{htmlFor:"name"},"Jumlah"),u.a.createElement(C.a,{type:"number",id:"jumlah",placeholder:"Masukkan Jumlah Peralatan",onChange:function(a){return e.setState({jumlah:a.target.value})},required:!0})),u.a.createElement(p.a,{type:"submit",color:"primary"},"Submit"),u.a.createElement(p.a,{color:"danger",onClick:this.toggleModal.bind(this)},"Batal")))))}}]),t}(m.Component);a.default=s(Object(c.a)(o.r,{name:"getAllInventarisQuery"}),Object(c.a)(o.c,{name:"addInventaris"}),Object(c.a)(o.t,{name:"getBarangsQuery"}))(F)}}]);
//# sourceMappingURL=81.185fcd56.chunk.js.map