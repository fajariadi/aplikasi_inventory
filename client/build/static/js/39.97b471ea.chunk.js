(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[39],{417:function(e,a,t){"use strict";t.r(a);var n=t(23),r=t(24),i=t(26),l=t(25),s=t(2),c=t.n(s),m=t(421),o=t(27),u=t(72),d=t(92),p=t.n(d),h=t(69),f=t(77),b=t(207),E=t(111),v=t(112),k=t(394),y=t(395),g=t(172),j=t(115),O=t(80),N=t(91),w=function(e){Object(i.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).state={nama:"",barang_id:"",karyawan_id:"",jumlah:0,modalIsOpen:!1},r}return Object(r.a)(t,[{key:"displayDetailPemeliharaan",value:function(){var e=this.props.data.pemeliharaan;if(e)return c.a.createElement(f.a,null,c.a.createElement(b.a,{className:"form-horizontal"},c.a.createElement(E.a,null,c.a.createElement(v.a,{md:"4"},c.a.createElement(k.a,{row:!0},c.a.createElement(v.a,{md:"6"},c.a.createElement(y.a,{htmlFor:"name"},"Nama Teknisi")),c.a.createElement(v.a,{md:"6"},c.a.createElement(g.a,{type:"text",name:"kode",id:"kode",value:e.karyawan.nama,disabled:!0})))),c.a.createElement(v.a,{md:"4"},c.a.createElement(k.a,{row:!0},c.a.createElement(v.a,{md:"3"},c.a.createElement(y.a,{htmlFor:"name"},"Tanggal")),c.a.createElement(v.a,{md:"9"},c.a.createElement(g.a,{type:"text",name:"kode",id:"kode",value:e.tanggal,disabled:!0})))),c.a.createElement(v.a,{md:"4"},c.a.createElement(k.a,{row:!0},c.a.createElement(v.a,{md:"3"},c.a.createElement(y.a,{htmlFor:"name"},"Status")),c.a.createElement(v.a,{md:"9"},c.a.createElement(g.a,{type:"text",name:"kode",id:"kode",value:e.status,disabled:!0}))))),c.a.createElement(E.a,null,c.a.createElement(v.a,{md:"8"},c.a.createElement(k.a,{row:!0},c.a.createElement(v.a,{md:"3"},c.a.createElement(y.a,{htmlFor:"name"},"Nama Inventaris")),c.a.createElement(v.a,{md:"9"},c.a.createElement(g.a,{type:"text",name:"kode",id:"kode",value:e.inventaris.barang.nama_barang,disabled:!0})))),c.a.createElement(v.a,{md:"4"},c.a.createElement(k.a,{row:!0},c.a.createElement(v.a,{md:"3"},c.a.createElement(y.a,{htmlFor:"name"},"Jumlah")),c.a.createElement(v.a,{md:"9"},c.a.createElement(g.a,{type:"text",name:"kode",id:"kode",value:e.jumlah,disabled:!0})))))),this.renderElement(e.status,e.inventaris.id,e.inventaris.barang.id,e.jumlah))}},{key:"renderElement",value:function(e,a,t,n){return"Diperbaiki"===e?c.a.createElement("div",{align:"center"},c.a.createElement(j.a,{size:"sm",color:"success",onClick:this.onSelesai.bind(this,a)},c.a.createElement("i",{className:"fa fa-check"})," Selesai"),c.a.createElement(j.a,{size:"sm",color:"danger",onClick:this.onRusak.bind(this,a,t,n)},c.a.createElement("i",{className:"fa fa-trash"})," Rusak")):c.a.createElement("div",{align:"center"},c.a.createElement(j.a,{size:"sm",color:"danger",onClick:this.onDelete.bind(this)},c.a.createElement("i",{className:"fa fa-trash"})," Hapus"))}},{key:"onRusak",value:function(e,a,t){var n=this;p.a.fire({title:"Apakah anda Yakin?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Saya Yakin!"}).then((function(r){if(r.isConfirmed){var i=n.props.getAllInventarisQuery,l=0;i.allInventaris.map((function(e){if(e.barang.id===a)return l=e.jumlah}));var s=l-t;n.props.updateRusakInventaris({variables:{id:e,jumlah:s,jumlah_diperbaiki:0},refetchQueries:[{query:h.p}]}),n.props.updateStatusPemeliharaan({variables:{id:n.props.match.params.id,status:"Rusak"},refetchQueries:[{query:h.x}]}),n.props.history.push("/pemeliharaan/pemeliharaan"),p.a.fire("Dihapus!","Inventaris Dihapus","success")}}))}},{key:"onSelesai",value:function(e){var a=this;p.a.fire({title:"Apakah anda Yakin?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Saya Yakin!"}).then((function(t){t.isConfirmed&&(a.props.updateJumlahDiperbaikiInventaris({variables:{id:e,jumlah_diperbaiki:0},refetchQueries:[{query:h.p}]}),a.props.updateStatusPemeliharaan({variables:{id:a.props.match.params.id,status:"Selesai"},refetchQueries:[{query:h.x}]}),a.props.history.push("/pemeliharaan/pemeliharaan"),p.a.fire("Selesai","Inventaris Selesai Diperbaiki","success"))}))}},{key:"onDelete",value:function(){var e=this;p.a.fire({title:"Apakah anda Yakin?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Saya Yakin!"}).then((function(a){a.isConfirmed&&(e.props.hapusPemeliharaan({variables:{id:e.props.match.params.id},refetchQueries:[{query:h.x}]}),e.props.history.push("/pemeliharaan/pemeliharaan"),p.a.fire("Dihapus!","Pemeliharaan Telah Dihapus","success"))}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"animated fadeIn"},c.a.createElement(E.a,null,c.a.createElement(v.a,null,c.a.createElement(O.a,null,c.a.createElement(N.a,null,c.a.createElement("i",{className:"fa fa-align-justify"}),"Detail Pemeliharaan Inventaris",c.a.createElement(o.Link,{to:"/pemeliharaan/pemeliharaan",className:"float-right mb-0"},c.a.createElement(j.a,{size:"sm",color:"primary"},c.a.createElement("i",{className:"fa fa-"})," Kembali"))),this.displayDetailPemeliharaan()))))}}]),t}(s.Component);a.default=u(Object(m.a)(h.w,{options:function(e){return{variables:{id:e.match.params.id}}}}),Object(m.a)(h.x,{name:"getPemeliharaansQuery"}),Object(m.a)(h.p,{name:"getAllInventarisQuery"}),Object(m.a)(h.X,{name:"updateJumlahDiperbaikiInventaris"}),Object(m.a)(h.bb,{name:"updateRusakInventaris"}),Object(m.a)(h.jb,{name:"updateStatusPemeliharaan"}),Object(m.a)(h.M,{name:"hapusPemeliharaan"}))(w)},77:function(e,a,t){"use strict";var n=t(4),r=t(13),i=t(2),l=t.n(i),s=t(14),c=t.n(s),m=t(59),o=t.n(m),u=t(61),d={tag:u.m,className:c.a.string,cssModule:c.a.object,innerRef:c.a.oneOfType([c.a.object,c.a.string,c.a.func])},p=function(e){var a=e.className,t=e.cssModule,i=e.innerRef,s=e.tag,c=Object(r.a)(e,["className","cssModule","innerRef","tag"]),m=Object(u.i)(o()(a,"card-body"),t);return l.a.createElement(s,Object(n.a)({},c,{className:m,ref:i}))};p.propTypes=d,p.defaultProps={tag:"div"},a.a=p},80:function(e,a,t){"use strict";var n=t(4),r=t(13),i=t(2),l=t.n(i),s=t(14),c=t.n(s),m=t(59),o=t.n(m),u=t(61),d={tag:u.m,inverse:c.a.bool,color:c.a.string,body:c.a.bool,outline:c.a.bool,className:c.a.string,cssModule:c.a.object,innerRef:c.a.oneOfType([c.a.object,c.a.string,c.a.func])},p=function(e){var a=e.className,t=e.cssModule,i=e.color,s=e.body,c=e.inverse,m=e.outline,d=e.tag,p=e.innerRef,h=Object(r.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),f=Object(u.i)(o()(a,"card",!!c&&"text-white",!!s&&"card-body",!!i&&(m?"border":"bg")+"-"+i),t);return l.a.createElement(d,Object(n.a)({},h,{className:f,ref:p}))};p.propTypes=d,p.defaultProps={tag:"div"},a.a=p},91:function(e,a,t){"use strict";var n=t(4),r=t(13),i=t(2),l=t.n(i),s=t(14),c=t.n(s),m=t(59),o=t.n(m),u=t(61),d={tag:u.m,className:c.a.string,cssModule:c.a.object},p=function(e){var a=e.className,t=e.cssModule,i=e.tag,s=Object(r.a)(e,["className","cssModule","tag"]),c=Object(u.i)(o()(a,"card-header"),t);return l.a.createElement(i,Object(n.a)({},s,{className:c}))};p.propTypes=d,p.defaultProps={tag:"div"},a.a=p}}]);
//# sourceMappingURL=39.97b471ea.chunk.js.map