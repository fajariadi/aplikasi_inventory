{"version":3,"sources":["views/Logistik/Users/Akun.js"],"names":["Akun","props","state","nama","jabatan","alamat","noHp","avatar","div_id","username","password","karyawan_id","modalIsOpen","modal1IsOpen","divisi_id","this","setState","kar_id","data","getDivisisQuery","loading","divisis","map","div","key","id","value","getKaryawansQuery","karyawans","kar","getAkunsQuery","no","akuns","akun","karyawan","divisi","to","color","size","className","onClick","onDelete","bind","akun_id","hapusAkunMutation","variables","refetchQueries","query","e","preventDefault","addAkunMutation","toggleModal1","addKaryawanMutation","toggleModal","hover","bordered","striped","responsive","align","displayAkuns","isOpen","onSubmit","addUser","htmlFor","type","name","onChange","target","required","displayKaryawan","submitForm","placeholder","displayDivisi","Component","compose","graphql"],"mappings":"kTAsBMA,E,kDACJ,WAAYC,GAAO,IAAD,8BAChB,cAAMA,IACDC,MAAQ,CACXC,KAAK,GACLC,QAAQ,GACRC,OAAO,GACPC,KAAK,GACLC,OAAO,GACPC,OAAO,GACPC,SAAS,GACTC,SAAS,GACTC,YAAY,GACZC,aAAa,EACbC,cAAc,GAbA,E,qDAiBTC,M,qCAKPC,KAAKC,SAAS,CACZH,cAAgBE,KAAKb,MAAMW,iB,kCAInBI,GACVF,KAAKC,SAAS,CACZL,YAAaM,IAEfF,KAAKC,SAAS,CACZJ,aAAeG,KAAKb,MAAMU,gB,sCAK5B,IAAIM,EAAOH,KAAKd,MAAMkB,gBACtB,OAAGD,EAAKE,QACE,kDAEDF,EAAKG,QAAQC,KAAI,SAAAC,GACpB,OACE,4BAAQC,IAAKD,EAAIE,GAAIC,MAAOH,EAAIE,IAAKF,EAAIpB,W,wCAOjD,IAAIe,EAAOH,KAAKd,MAAM0B,kBACtB,OAAGT,EAAKE,QACE,oDAEDF,EAAKU,UAAUN,KAAI,SAAAO,GACtB,OACE,4BAAQL,IAAKK,EAAIJ,GAAIC,MAAOG,EAAIJ,IAAKI,EAAI1B,W,qCAMpC,IAAD,OACRe,EAAOH,KAAKd,MAAM6B,cAClBC,EAAK,EACT,OAAGb,EAAKE,QACE,iDAEDF,EAAKc,MAAMV,KAAI,SAAAW,GAEpB,OADAF,IAEE,wBAAKP,IAAKS,EAAKR,IACb,4BAAKM,GACL,4BAAKE,EAAKC,SAAS/B,MACnB,4BAAK8B,EAAKC,SAAS9B,SACnB,4BAAK6B,EAAKC,SAAS7B,QACnB,4BAAK4B,EAAKC,SAAS5B,MACnB,4BAAK2B,EAAKC,SAASC,OAAOhC,MAC1B,4BACE,kBAAC,OAAD,CAAMiC,GAAE,2BAAsBH,EAAKR,KACnC,kBAAC,IAAD,CAAQY,MAAM,UAAUC,KAAK,MAC3B,uBAAGC,UAAU,kBAIjB,4BACE,kBAAC,IAAD,CAAQC,QAAS,EAAKC,SAASC,KAAK,EAAMT,EAAKR,IAAKY,MAAM,SAASC,KAAK,MACtE,uBAAGC,UAAU,wB,+BASlBI,GACP5B,KAAKd,MAAM2C,kBAAkB,CAC3BC,UAAU,CACRpB,GAAIkB,GAENG,eAAe,CAAC,CAACC,MAAMjB,U,8BAInBkB,GACPA,EAAEC,iBACSlC,KAAKd,MAAMiD,gBAAgB,CACnCL,UAAU,CACRpC,SAAUM,KAAKb,MAAMO,SACrBC,SAAUK,KAAKb,MAAMQ,SACrBC,YAAaI,KAAKb,MAAMS,aAG1BmC,eAAe,CAAC,CAACC,MAAMpB,U,iCAIhBqB,GACTA,EAAEC,iBACFlC,KAAKoC,eACLpC,KAAKd,MAAMmD,oBAAoB,CAC7BP,UAAU,CACR1C,KAAMY,KAAKb,MAAMC,KACjBC,QAASW,KAAKb,MAAME,QACpBC,OAAQU,KAAKb,MAAMG,OACnBC,KAAOS,KAAKb,MAAMI,KAClBC,OAAQQ,KAAKb,MAAMC,KAAK,MACxBW,UAAWC,KAAKb,MAAMM,QAExBsC,eAAe,CAAC,CAACC,MAAMpB,U,+BAIjB,IAAD,OACP,OACE,yBAAKY,UAAU,mBACb,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,mBAEE,kBAAC,IAAD,CAAQD,KAAK,KAAKD,MAAM,UAAUE,UAAU,wBAAwBC,QAASzB,KAAKsC,YAAYX,KAAK3B,OACjG,uBAAGwB,UAAU,eADf,eAKF,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOe,OAAK,EAACC,UAAQ,EAACC,SAAO,EAACC,YAAU,EAACnB,KAAK,MAC5C,2BAAOoB,MAAM,UACb,4BACE,kCACA,oCACA,uCACA,sCACA,qCACA,sCACA,sCACA,uCAGF,2BAAOA,MAAM,UACZ3C,KAAK4C,qBAOhB,kBAAC,IAAD,CAAOC,OAAQ7C,KAAKb,MAAMU,aACxB,kBAAC,IAAD,2BACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAMiD,SAAU,SAACb,GAAO,EAAKc,QAAQd,KACnC,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOe,QAAQ,QAAf,YACA,kBAAC,IAAD,CAAOC,KAAK,OAAOC,KAAK,WAAWC,SAAU,SAAClB,GAAD,OAAM,EAAKhC,SAAS,CAACP,SAASuC,EAAEmB,OAAOzC,SAASD,GAAG,OAAO2C,UAAQ,KAEjH,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOL,QAAQ,QAAf,YACA,kBAAC,IAAD,CAAOC,KAAK,WAAWC,KAAK,WAAWC,SAAU,SAAClB,GAAD,OAAM,EAAKhC,SAAS,CAACN,SAASsC,EAAEmB,OAAOzC,SAASD,GAAG,OAAO2C,UAAQ,KAErH,kBAAC,IAAD,KACA,kBAAC,IAAD,CAAOL,QAAQ,QAAf,YACE,kBAAC,IAAD,CAAOC,KAAK,SAASC,KAAK,WAAWC,SAAU,SAAClB,GAAD,OAAM,EAAKhC,SAAS,CAACL,YAAYqC,EAAEmB,OAAOzC,SAASD,GAAG,OAAO2C,UAAQ,GAClH,kDACCrD,KAAKsD,oBAGV,kBAAC,IAAD,CAAQL,KAAK,SAAS3B,MAAM,WAA5B,UACA,kBAAC,IAAD,CAAQA,MAAM,SAASG,QAASzB,KAAKsC,YAAYX,KAAK3B,OAAtD,YAIN,kBAAC,IAAD,CAAO6C,OAAQ7C,KAAKb,MAAMW,cACxB,kBAAC,IAAD,6BACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAMgD,SAAU,SAACb,GAAO,EAAKsB,WAAWtB,KACtC,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOe,QAAQ,QAAf,QACA,kBAAC,IAAD,CAAOC,KAAK,OAAOvC,GAAG,OAAO8C,YAAY,gBAAgBL,SAAU,SAAClB,GAAD,OAAM,EAAKhC,SAAS,CAACb,KAAK6C,EAAEmB,OAAOzC,SAAS0C,UAAQ,KAEzH,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOL,QAAQ,QAAf,WACA,kBAAC,IAAD,CAAOC,KAAK,OAAOvC,GAAG,UAAU8C,YAAY,mBAAmBL,SAAU,SAAClB,GAAD,OAAM,EAAKhC,SAAS,CAACZ,QAAQ4C,EAAEmB,OAAOzC,SAAS0C,UAAQ,KAElI,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOL,QAAQ,QAAf,UACA,kBAAC,IAAD,CAAOC,KAAK,OAAOvC,GAAG,SAAS8C,YAAY,kBAAkBL,SAAU,SAAClB,GAAD,OAAM,EAAKhC,SAAS,CAACX,OAAO2C,EAAEmB,OAAOzC,SAAS0C,UAAQ,KAE/H,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOL,QAAQ,QAAf,SACA,kBAAC,IAAD,CAAOC,KAAK,OAAOvC,GAAG,OAAO8C,YAAY,iBAAiBL,SAAU,SAAClB,GAAD,OAAM,EAAKhC,SAAS,CAACV,KAAK0C,EAAEmB,OAAOzC,SAAS0C,UAAQ,KAE1H,kBAAC,IAAD,KACA,kBAAC,IAAD,CAAOL,QAAQ,QAAf,UACE,kBAAC,IAAD,CAAOC,KAAK,SAASC,KAAK,SAASC,SAAU,SAAClB,GAAD,OAAM,EAAKhC,SAAS,CAACR,OAAOwC,EAAEmB,OAAOzC,SAASD,GAAG,OAAO2C,UAAQ,GAC3G,gDACCrD,KAAKyD,kBAGV,kBAAC,IAAD,CAAQR,KAAK,SAAS3B,MAAM,WAA5B,UACA,kBAAC,IAAD,CAAQA,MAAM,SAASG,QAASzB,KAAKoC,aAAaT,KAAK3B,OAAvD,iB,GA9NK0D,aAwOJC,YACbC,YAAQxD,IAAiB,CAAC8C,KAAK,oBAC/BU,YAAQ7C,IAAe,CAACmC,KAAK,kBAC7BU,YAAQzB,IAAiB,CAACe,KAAK,oBAC/BU,YAAQvB,IAAqB,CAACa,KAAK,wBACnCU,YAAQhD,IAAmB,CAACsC,KAAK,sBACjCU,YAAQ/B,IAAmB,CAACqB,KAAK,sBANpBS,CAOb1E","file":"static/js/84.b620233b.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {graphql} from 'react-apollo';\r\nimport * as compose from 'lodash.flowright';\r\nimport { getDivisisQuery, getKaryawansQuery, addAkunMutation, hapusAkunMutation, addKaryawanMutation, getAkunsQuery} from '../queries/queries';\r\nimport {  \r\n  Card, \r\n  CardBody, \r\n  CardHeader, \r\n  Col, \r\n  Button, \r\n  Row, \r\n  Table,\r\n  FormGroup,\r\n  Form,\r\n  Label,\r\n  Input,\r\n  Modal,\r\n  ModalBody,\r\n  ModalHeader\r\n} from 'reactstrap';\r\n\r\nclass Akun extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      nama:'',\r\n      jabatan:'',\r\n      alamat:'',\r\n      noHp:'',\r\n      avatar:'',\r\n      div_id:'',\r\n      username:'',\r\n      password:'',\r\n      karyawan_id:'',\r\n      modalIsOpen: false,\r\n      modal1IsOpen: false,\r\n    }\r\n  }\r\n\r\n  onDelete(divisi_id){\r\n    \r\n  }\r\n\r\n  toggleModal1(){\r\n    this.setState({\r\n      modal1IsOpen: ! this.state.modal1IsOpen\r\n    });\r\n  }\r\n\r\n  toggleModal(kar_id){\r\n    this.setState({\r\n      karyawan_id: kar_id\r\n    });\r\n    this.setState({\r\n      modalIsOpen: ! this.state.modalIsOpen\r\n    });\r\n  }\r\n\r\n  displayDivisi(){\r\n    var data = this.props.getDivisisQuery;\r\n    if(data.loading){\r\n      return (<div>Loading Divisi...</div>);\r\n    } else {\r\n      return data.divisis.map(div => {\r\n          return(\r\n            <option key={div.id} value={div.id}>{div.nama}</option>\r\n          )\r\n      })\r\n    }\r\n  }\r\n\r\n  displayKaryawan(){\r\n    var data = this.props.getKaryawansQuery;\r\n    if(data.loading){\r\n      return (<div>Loading Karyawan...</div>);\r\n    } else {\r\n      return data.karyawans.map(kar => {\r\n          return(\r\n            <option key={kar.id} value={kar.id}>{kar.nama}</option>\r\n          )\r\n      })\r\n    }\r\n  }\r\n\r\n  displayAkuns(){\r\n    var data = this.props.getAkunsQuery;\r\n    var no = 0;\r\n    if(data.loading){\r\n      return (<div>Loading Akuns...</div>);\r\n    } else {\r\n      return data.akuns.map(akun => {\r\n        no++;\r\n        return(\r\n          <tr  key={akun.id}>\r\n            <td>{no}</td>\r\n            <td>{akun.karyawan.nama}</td>\r\n            <td>{akun.karyawan.jabatan}</td>\r\n            <td>{akun.karyawan.alamat}</td>\r\n            <td>{akun.karyawan.noHp}</td>\r\n            <td>{akun.karyawan.divisi.nama}</td>\r\n            <td>\r\n              <Link to={`/user/detailAkun/${akun.id}`}>\r\n              <Button color=\"primary\" size=\"sm\">\r\n                <i className=\"fa fa-file\"></i>\r\n                </Button>\r\n              </Link>\r\n            </td>\r\n            <td>\r\n              <Button onClick={this.onDelete.bind(this, akun.id)} color=\"danger\" size=\"sm\">\r\n                <i className=\"fa fa-trash\"></i>\r\n              </Button>\r\n            </td>\r\n          </tr>\r\n        );\r\n      });\r\n    }\r\n  }\r\n\r\n  onDelete(akun_id){\r\n    this.props.hapusAkunMutation({\r\n      variables:{\r\n        id: akun_id,        \r\n      },\r\n      refetchQueries:[{query:getAkunsQuery}],\r\n    });\r\n  }\r\n\r\n  addUser(e){\r\n   e.preventDefault();\r\n   var data = this.props.addAkunMutation({\r\n      variables:{\r\n        username: this.state.username,\r\n        password: this.state.password,\r\n        karyawan_id: this.state.karyawan_id,\r\n\r\n      },\r\n      refetchQueries:[{query:getKaryawansQuery}]\r\n    });\r\n  }\r\n\r\n  submitForm(e){\r\n    e.preventDefault();\r\n    this.toggleModal1();\r\n    this.props.addKaryawanMutation({\r\n      variables:{\r\n        nama: this.state.nama,\r\n        jabatan: this.state.jabatan,\r\n        alamat: this.state.alamat,\r\n        noHp : this.state.noHp,\r\n        avatar: this.state.nama+'jpg',\r\n        divisi_id: this.state.div_id,\r\n      },\r\n      refetchQueries:[{query:getKaryawansQuery}]\r\n    });\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <div className=\"animated fadeIn\">\r\n        <Row>\r\n          <Col>\r\n            <Card>\r\n              <CardHeader>\r\n                Daftar Akun\r\n                <Button size=\"sm\" color=\"primary\" className=\"float-right mb-0 mr-2\" onClick={this.toggleModal.bind(this)}>\r\n                  <i className=\"fa fa-plus\"></i> Buat Akun\r\n                </Button>\r\n               \r\n              </CardHeader>\r\n              <CardBody>\r\n                <Table hover bordered striped responsive size=\"sm\">\r\n                  <thead align=\"center\">\r\n                  <tr>\r\n                    <th>No</th>\r\n                    <th>Nama</th>\r\n                    <th>Jabatan</th>\r\n                    <th>Alamat</th>\r\n                    <th>No HP</th>\r\n                    <th>Divisi</th>\r\n                    <th>Detail</th>\r\n                    <th>Hapus</th>\r\n                  </tr>\r\n                  </thead>\r\n                  <tbody align=\"center\">\r\n                  {this.displayAkuns()}\r\n                  </tbody>\r\n                </Table>\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n        <Modal isOpen={this.state.modalIsOpen}>\r\n          <ModalHeader>Form Tambah Barang</ModalHeader>\r\n          <ModalBody>\r\n            <Form onSubmit={(e) => {this.addUser(e)}}>\r\n              <FormGroup>\r\n                <Label htmlFor=\"name\">Username</Label>\r\n                <Input type=\"text\" name=\"username\" onChange={(e) =>this.setState({username:e.target.value})} id=\"nama\" required></Input>\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Label htmlFor=\"name\">Password</Label>\r\n                <Input type=\"password\" name=\"password\" onChange={(e) =>this.setState({password:e.target.value})} id=\"nama\" required></Input>\r\n              </FormGroup>\r\n              <FormGroup>\r\n              <Label htmlFor=\"name\">Karyawan</Label>\r\n                <Input type=\"select\" name=\"karyawan\" onChange={(e) =>this.setState({karyawan_id:e.target.value})} id=\"nama\" required>\r\n                  <option>Pilih Karyawan</option>\r\n                  {this.displayKaryawan()}\r\n                </Input>\r\n              </FormGroup>\r\n              <Button type=\"submit\" color=\"primary\">Tambah</Button>\r\n              <Button color=\"danger\" onClick={this.toggleModal.bind(this)}>Batal</Button>\r\n            </Form>\r\n          </ModalBody>  \r\n        </Modal>\r\n        <Modal isOpen={this.state.modal1IsOpen}>\r\n          <ModalHeader>From Tambah Karyawan</ModalHeader>\r\n          <ModalBody>\r\n            <Form onSubmit={(e) => {this.submitForm(e)}}>\r\n              <FormGroup>\r\n                <Label htmlFor=\"name\">Nama</Label>\r\n                <Input type=\"text\" id=\"nama\" placeholder=\"Masukkan Nama\" onChange={(e) =>this.setState({nama:e.target.value})} required />\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Label htmlFor=\"name\">Jabatan</Label>\r\n                <Input type=\"text\" id=\"jabatan\" placeholder=\"Masukkan Jabatan\" onChange={(e) =>this.setState({jabatan:e.target.value})} required />\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Label htmlFor=\"name\">Alamat</Label>\r\n                <Input type=\"text\" id=\"alamat\" placeholder=\"Masukkan Alamat\" onChange={(e) =>this.setState({alamat:e.target.value})} required />\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Label htmlFor=\"name\">No HP</Label>\r\n                <Input type=\"text\" id=\"noHp\" placeholder=\"Masukkan No HP\" onChange={(e) =>this.setState({noHp:e.target.value})} required />\r\n              </FormGroup>   \r\n              <FormGroup>\r\n              <Label htmlFor=\"name\">Divisi</Label>\r\n                <Input type=\"select\" name=\"divisi\" onChange={(e) =>this.setState({div_id:e.target.value})} id=\"nama\" required>\r\n                  <option>Pilih Divisi</option>\r\n                  {this.displayDivisi()}\r\n                </Input>\r\n              </FormGroup>          \r\n              <Button type=\"submit\" color=\"primary\">Submit</Button>\r\n              <Button color=\"danger\" onClick={this.toggleModal1.bind(this)}>Batal</Button>\r\n            </Form>\r\n          </ModalBody>  \r\n        </Modal> \r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(getDivisisQuery, {name:\"getDivisisQuery\"}),\r\n  graphql(getAkunsQuery, {name:\"getAkunsQuery\"}),\r\n  graphql(addAkunMutation, {name:\"addAkunMutation\"}),\r\n  graphql(addKaryawanMutation, {name:\"addKaryawanMutation\"}),\r\n  graphql(getKaryawansQuery, {name:\"getKaryawansQuery\"}),\r\n  graphql(hapusAkunMutation, {name:\"hapusAkunMutation\"}),\r\n)(Akun);\r\n"],"sourceRoot":""}