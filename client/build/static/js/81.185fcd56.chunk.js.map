{"version":3,"sources":["views/Logistik/Inventaris/Inventaris.js"],"names":["Inventaris","props","state","nama","barang_id","jumlah","modalIsOpen","harga","sewa","data","this","getAllInventarisQuery","no","loading","allInventaris","map","inventaris","key","id","barang","nama_barang","jumlah_diperbaiki","jumlah_dipakai","getBarangsQuery","barangs","jenis_barang","value","setState","e","preventDefault","toggleModal","addInventaris","variables","parseInt","status","refetchQueries","query","className","size","color","onClick","bind","hover","bordered","striped","responsive","align","displayInventaris","previous","tag","active","next","isOpen","onSubmit","submitForm","htmlFor","type","name","onChange","target","required","displayBarang","placeholder","Component","compose","graphql"],"mappings":"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","file":"static/js/81.185fcd56.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport {graphql} from 'react-apollo';\r\nimport { Link } from 'react-router-dom';\r\nimport * as compose from 'lodash.flowright';\r\nimport {getAllInventarisQuery, addInventaris, getBarangsQuery} from '../queries/queries';\r\nimport { \r\n  Form,\r\n  Card, \r\n  CardBody, \r\n  CardHeader, \r\n  Col, \r\n  Pagination, \r\n  PaginationItem, \r\n  PaginationLink, \r\n  Row, \r\n  Table,\r\n  Button,\r\n  FormGroup,\r\n  Label,\r\n  Input,\r\n  Modal, ModalBody, ModalHeader\r\n} from 'reactstrap';\r\n\r\nclass Inventaris extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      nama:'',\r\n      barang_id:'',\r\n      jumlah: 0,\r\n      modalIsOpen: false,  \r\n      harga: 0,\r\n      sewa: 0,\r\n    };\r\n  }\r\n\r\n  displayInventaris(){\r\n    var data = this.props.getAllInventarisQuery;\r\n    var no = 0;\r\n    if(data.loading){\r\n      return\r\n    } else {\r\n      return data.allInventaris.map(inventaris => {\r\n         no++;\r\n        return(\r\n          <tr key={inventaris.id}>\r\n            <td>{no}</td>\r\n            <td>{inventaris.barang.nama_barang}</td>\r\n            <td>{inventaris.jumlah}</td>\r\n            <td>{inventaris.jumlah_diperbaiki}</td>\r\n            <td>{inventaris.jumlah_dipakai}</td>\r\n            <td>{inventaris.jumlah-inventaris.jumlah_diperbaiki-inventaris.jumlah_dipakai}</td>\r\n          </tr>\r\n        );\r\n      });\r\n    }\r\n  }\r\n\r\n  displayBarang(){\r\n    var data = this.props.getBarangsQuery;\r\n    if(data.loading){\r\n      return (<div>Loading Barang...</div>);\r\n    } else {\r\n      return data.barangs.map(barang => {\r\n        if(barang.jenis_barang === 'Perkakas'){\r\n          return(\r\n            <option key={barang.id} value={barang.id}>{barang.nama_barang}</option>\r\n          )\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  toggleModal(){\r\n    this.setState({\r\n      modalIsOpen: ! this.state.modalIsOpen\r\n    });\r\n  }\r\n\r\n  submitForm(e){\r\n    e.preventDefault();\r\n    this.toggleModal();\r\n    this.props.addInventaris({\r\n      variables:{\r\n        barang_id:this.state.barang_id,\r\n        jumlah: parseInt(this.state.jumlah),\r\n        status: 'Available',\r\n        jumlah_dipakai: 0,\r\n        jumlah_diperbaiki: 0,\r\n      },\r\n      refetchQueries:[{query:getAllInventarisQuery}]\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"animated fadeIn\">\r\n        <Row>\r\n           <Col>\r\n            <Card>\r\n              <CardHeader>\r\n                <i className=\"fa fa-align-justify\"></i>Inventaris\r\n                <Button size=\"sm\" color=\"primary\" className=\"float-right mb-0\" onClick={this.toggleModal.bind(this)}>\r\n                  <i className=\"fa fa-plus\"></i> Tambah Inventaris\r\n                </Button>\r\n              </CardHeader>\r\n              <CardBody>\r\n                <Table hover bordered striped responsive size=\"sm\">\r\n                  <thead align=\"center\">\r\n                  <tr>\r\n                    <th>No</th>\r\n                    <th>Nama Barang</th>\r\n                    <th>Jumlah</th>\r\n                    <th>Diperbaiki</th>\r\n                    <th>Dipakai</th>\r\n                    <th>Tersedia</th>\r\n                  </tr>\r\n                  </thead>\r\n                  <tbody align=\"center\">\r\n                  {this.displayInventaris()}\r\n                  </tbody>\r\n                </Table>\r\n                <nav>\r\n                  <Pagination>\r\n                    <PaginationItem><PaginationLink previous tag=\"button\">Prev</PaginationLink></PaginationItem>\r\n                    <PaginationItem active>\r\n                      <PaginationLink tag=\"button\">1</PaginationLink>\r\n                    </PaginationItem>\r\n                    <PaginationItem><PaginationLink tag=\"button\">2</PaginationLink></PaginationItem>\r\n                    <PaginationItem><PaginationLink tag=\"button\">3</PaginationLink></PaginationItem>\r\n                    <PaginationItem><PaginationLink tag=\"button\">4</PaginationLink></PaginationItem>\r\n                    <PaginationItem><PaginationLink next tag=\"button\">Next</PaginationLink></PaginationItem>\r\n                  </Pagination>\r\n                </nav>\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n          \r\n        </Row>\r\n        <Modal isOpen={this.state.modalIsOpen}>\r\n          <ModalHeader>Form Inventaris</ModalHeader>\r\n          <ModalBody>\r\n            <Form onSubmit={(e) => {this.submitForm(e)}}>\r\n              <FormGroup>\r\n              <Label htmlFor=\"name\">Nama Barang</Label>\r\n                <Input type=\"select\" name=\"nama\" onChange={(e) =>this.setState({barang_id:e.target.value})} id=\"nama\" required>\r\n                  <option>Nama Barang</option>\r\n                  {this.displayBarang()}\r\n                </Input>\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Label htmlFor=\"name\">Jumlah</Label>\r\n                <Input type=\"number\" id=\"jumlah\" placeholder=\"Masukkan Jumlah Peralatan\" onChange={(e) =>this.setState({jumlah:e.target.value})} required />\r\n              </FormGroup>              \r\n              <Button type=\"submit\" color=\"primary\">Submit</Button>\r\n              <Button color=\"danger\" onClick={this.toggleModal.bind(this)}>Batal</Button>\r\n            </Form>\r\n          </ModalBody>  \r\n        </Modal>\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  graphql(getAllInventarisQuery, {name:\"getAllInventarisQuery\"}),\r\n  graphql(addInventaris, {name:\"addInventaris\"}),\r\n  graphql(getBarangsQuery, {name:\"getBarangsQuery\"}),\r\n)(Inventaris);\r\n"],"sourceRoot":""}