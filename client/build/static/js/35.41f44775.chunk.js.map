{"version":3,"sources":["views/Logistik/PermintaanBarang/DetailPermintaanBarang.js","../node_modules/reactstrap/es/CardHeader.js","../node_modules/reactstrap/es/Table.js"],"names":["DetailPermintaanBarang","props","loggedIn","localStorage","getItem","state","akun_id","divisi","request_id","permintaanBarang","this","data","lanjut","listRequest","map","item","status","console","log","Swal","fire","position","icon","title","text","showConfirmButton","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","hapusPermintaanBarangMutation","variables","id","refetchQueries","query","getPermintaanBarangsQuery","hapusManyListRequestMutation","getListRequestsQuery","history","push","className","md","row","htmlFor","type","name","value","kode","disabled","renderElement3","tanggal_setuju","akun","karyawan","nama","tanggal","hover","bordered","striped","responsive","size","align","key","nama_barang","jumlah_barang","satuan","jenis","renderElement","renderElement2","to","match","params","color","onClick","onDelete","bind","onSetujuiPermintaan","onTolakPermintaan","permintaan_id","updateStatusPermintaanBarang","Date","toLocaleDateString","updateStatusListRequest","displayRequestDetail","Component","compose","graphql","getPermintaanBarangQuery","options","propTypes","tag","tagPropType","PropTypes","string","cssModule","object","CardHeader","Tag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","React","createElement","_extends","defaultProps","bool","borderless","dark","oneOfType","responsiveTag","innerRef","func","Table","ResponsiveTag","table","ref","responsiveClassName"],"mappings":"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","file":"static/js/35.41f44775.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport {graphql} from 'react-apollo';\r\nimport * as compose from 'lodash.flowright';\r\nimport Swal from 'sweetalert2';\r\nimport { getPermintaanBarangQuery, getPermintaanBarangsQuery, hapusPermintaanBarangMutation, hapusManyListRequestMutation, updateStatusPermintaanBarang, updateStatusListRequest, getListRequestsQuery} from '../queries/queries';\r\nimport { Button, Card, CardBody, CardHeader, Col, Row, Table, Form, FormGroup, Label, Input } from 'reactstrap';\r\n\r\nclass DetailPermintaanBarang extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    const username= localStorage.getItem(\"username\")\r\n\r\n    let loggedIn = true \r\n      if(username == null){\r\n        loggedIn = false\r\n      }\r\n    this.state = {\r\n      loggedIn,\r\n      akun_id: localStorage.getItem(\"user_id\"),\r\n      divisi: localStorage.getItem(\"divisi\"),\r\n      }\r\n  }\r\n\r\n  onDelete(request_id){\r\n    const {permintaanBarang} = this.props.data;\r\n    var lanjut = true;\r\n    if(permintaanBarang){ // eslint-disable-next-line\r\n      permintaanBarang.listRequest.map(item => {\r\n        if(item.status === 'Proses' || item.status === 'Delivery' || item.status === 'Ready'){\r\n          lanjut = false\r\n        }\r\n      });\r\n    }\r\n    console.log(lanjut);\r\n    if(lanjut === false){\r\n      Swal.fire({\r\n        position: 'center',\r\n        icon: 'error',\r\n        title: 'Dilarang!!!',\r\n        text: 'Permintaan Barang Sedang diproses',\r\n        showConfirmButton: true,\r\n      })\r\n    } else {\r\n      Swal.fire({\r\n        title: 'Apakah anda Yakin?',\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        confirmButtonText: 'Ya, Saya Yakin!'\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          this.props.hapusPermintaanBarangMutation({\r\n            variables:{\r\n              id: request_id,        \r\n            },\r\n            refetchQueries:[{query:getPermintaanBarangsQuery}],\r\n          });\r\n         this.props.hapusManyListRequestMutation({\r\n            variables:{\r\n              id: request_id,        \r\n            },\r\n            refetchQueries:[{query:getListRequestsQuery}],\r\n          });\r\n          this.props.history.push(\"/permintaanBarang/permintaanBarang\");\r\n          Swal.fire(\r\n            'Dihapus!',\r\n            'Permintaan Barang Telah Dihapus',\r\n            'success'\r\n          )\r\n        }\r\n      })\r\n    }\r\n    \r\n   }\r\n\r\n  displayRequestDetail(){\r\n    const {permintaanBarang} = this.props.data;\r\n    if(permintaanBarang){\r\n      return(\r\n        <CardBody>\r\n          <Form className=\"form-horizontal\">\r\n          <Row> \r\n            <Col md=\"4\">\r\n              <FormGroup row>\r\n                <Col md=\"6\">\r\n                  <Label htmlFor=\"name\">Kode Permintaan</Label>\r\n                </Col>\r\n                <Col md=\"6\">\r\n                <Input type=\"text\" name=\"kode\" id=\"kode\" value={permintaanBarang.kode} disabled></Input> \r\n                </Col>\r\n              </FormGroup>\r\n            </Col>  \r\n            <Col md=\"4\">\r\n              <FormGroup row>\r\n              <Col md=\"3\">\r\n                  <Label htmlFor=\"name\">Status</Label>\r\n                </Col>\r\n                <Col md=\"9\">\r\n                <Input type=\"text\" name=\"kode\" id=\"kode\" value={permintaanBarang.status} disabled></Input> \r\n                </Col> \r\n              </FormGroup>\r\n            </Col>  \r\n            {this.renderElement3(permintaanBarang.status, permintaanBarang.tanggal_setuju)}\r\n          </Row>\r\n          <Row>\r\n            <Col md=\"4\">\r\n            <FormGroup row>\r\n            <Col md=\"6\">\r\n                  <Label htmlFor=\"name\">Dibuat Oleh</Label>\r\n                </Col>\r\n                <Col md=\"6\">\r\n                <Input type=\"text\" name=\"kode\" id=\"kode\" value={permintaanBarang.akun.karyawan.nama} disabled></Input> \r\n                </Col>\r\n              </FormGroup>\r\n            </Col>\r\n            <Col md=\"4\">\r\n            <FormGroup row>\r\n               <Col md=\"3\">\r\n                  <Label htmlFor=\"name\">Divisi</Label>\r\n                </Col>\r\n                <Col md=\"9\">\r\n                <Input type=\"text\" name=\"kode\" id=\"kode\" value={permintaanBarang.akun.karyawan.divisi.nama} disabled></Input> \r\n                </Col>  \r\n              </FormGroup>\r\n            </Col>\r\n            <Col md=\"4\">\r\n            <FormGroup row>  \r\n            <Col md=\"3\">\r\n                  <Label htmlFor=\"name\">Tanggal</Label>\r\n                </Col>\r\n                <Col md=\"9\">\r\n                <Input type=\"text\" name=\"kode\" id=\"kode\" value={permintaanBarang.tanggal} disabled></Input> \r\n                </Col>\r\n              </FormGroup>\r\n            </Col>\r\n          </Row>\r\n        </Form>\r\n          <hr />\r\n          <Table hover bordered striped responsive size=\"sm\">\r\n            <thead align=\"center\">\r\n              <tr>\r\n                <th>Nama Barang</th>\r\n                <th>Jumlah</th>\r\n                <th>Satuan</th>\r\n                <th>Jenis</th>\r\n                <th>Status</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody align=\"center\">\r\n              {\r\n                permintaanBarang.listRequest.map(item => {\r\n                  return(\r\n                    <tr key={item.id}>\r\n                      <td>{item.nama_barang}</td>\r\n                      <td>{item.jumlah_barang}</td>\r\n                      <td>{item.satuan}</td>\r\n                      <td>{item.jenis}</td>\r\n                      <td>{item.status}</td>\r\n                    </tr>\r\n                  )\r\n                })\r\n              }\r\n            </tbody>\r\n          </Table>\r\n          <hr />\r\n          <Row>\r\n            <Col>\r\n              {this.renderElement(permintaanBarang.akun.id, permintaanBarang.status)} \r\n            </Col>\r\n            <Col>\r\n              {this.renderElement2( permintaanBarang.status)}\r\n            </Col>\r\n          </Row>\r\n        </CardBody>\r\n      )\r\n    }\r\n  }\r\n\r\n  renderElement(akun_id, status){\r\n    if (this.state.akun_id === akun_id && status === 'Belum Disetujui'){\r\n      return(\r\n        <div align=\"center\">\r\n        <Link to={`/permintaanBarang/editPermintaanBarang/${this.props.match.params.id}`}>\r\n          <Button color=\"warning\">\r\n            <i className=\"fa fa-pencil\" >Edit Permintaan Barang</i>\r\n            </Button>\r\n        </Link>\r\n          <Button onClick={this.onDelete.bind(this, this.props.match.params.id)} color=\"danger\">\r\n            <i className=\"fa fa-trash\">Hapus Permintaan Barang</i>\r\n          </Button>\r\n      </div>\r\n      )\r\n    } else {\r\n      return(\r\n        <div align=\"center\">\r\n          <Button onClick={this.onDelete.bind(this, this.props.match.params.id)} color=\"danger\">\r\n            <i className=\"fa fa-trash\">Hapus Permintaan Barang</i>\r\n          </Button>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  renderElement2(status){\r\n    if(this.state.divisi ===  \"Logistic\" && status === 'Belum Disetujui' ){\r\n      return(\r\n        <div align=\"center\">\r\n            <Button onClick={this.onSetujuiPermintaan.bind(this, this.props.match.params.id)} color=\"success\">\r\n              <i className=\"fa fa-check\">Setujui Permintaan Barang</i>\r\n            </Button>\r\n            <Button onClick={this.onTolakPermintaan.bind(this, this.props.match.params.id)} color=\"danger\">\r\n              <i className=\"fa fa-times\">Tolak Permintaan Barang</i>\r\n            </Button>\r\n        </div> \r\n      )\r\n    }\r\n  }\r\n  renderElement3(status, tanggal){\r\n    if(status === 'Disetujui' || status === 'Ditolak'){\r\n      return(\r\n        <Col md=\"4\">\r\n          <FormGroup row>\r\n            <Col md=\"3\">\r\n              <Label htmlFor=\"name\">Tanggal Diproses</Label>\r\n            </Col>\r\n            <Col md=\"9\">\r\n              <Input type=\"text\" name=\"kode\" id=\"kode\" value={tanggal} disabled></Input> \r\n            </Col> \r\n          </FormGroup>\r\n        </Col> \r\n      )\r\n    } \r\n  }\r\n\r\n  onSetujuiPermintaan(permintaan_id){\r\n    this.props.updateStatusPermintaanBarang({\r\n      variables:{\r\n        id:permintaan_id,\r\n        status: 'Disetujui',\r\n        tanggal_setuju: new Date().toLocaleDateString(),\r\n      },\r\n      refetchQueries:[{query:getPermintaanBarangsQuery}],\r\n    });\r\n    this.props.updateStatusListRequest({\r\n      variables:{\r\n        id:permintaan_id,\r\n        status: 'Active',\r\n      },\r\n      refetchQueries:[{query:getPermintaanBarangsQuery}, {query:getListRequestsQuery}],\r\n    });\r\n    this.props.history.push(\"/permintaanBarang/permintaanBarang\");\r\n    Swal.fire({\r\n      position: 'center',\r\n      icon: 'success',\r\n      title: 'Permintaan Barang Disetujui',\r\n      showConfirmButton: true,\r\n    })\r\n  }\r\n\r\n  onTolakPermintaan(permintaan_id){\r\n    this.props.updateStatusPermintaanBarang({\r\n      variables:{\r\n        id:permintaan_id,\r\n        status: 'Ditolak',\r\n        tanggal_setuju: new Date().toLocaleDateString(),\r\n      },\r\n      refetchQueries:[{query:getPermintaanBarangsQuery}],\r\n    });\r\n    this.props.updateStatusListRequest({\r\n      variables:{\r\n        id:permintaan_id,\r\n        status: 'Ditolak',\r\n      },\r\n      refetchQueries:[{query:getListRequestsQuery}],\r\n    });\r\n    this.props.history.push(\"/permintaanBarang/permintaanBarang\");\r\n    Swal.fire({\r\n      position: 'center',\r\n      icon: 'error',\r\n      title: 'Permintaan Barang Ditolak',\r\n      showConfirmButton: true,\r\n    })\r\n  }\r\n\r\n \r\n  render() {\r\n    if(this.state.loggedIn === false){\r\n      return <Redirect to=\"/login\" />\r\n    }\r\n    return (\r\n      <div className=\"animated fadeIn\">\r\n        <Row>\r\n          <Col>\r\n            <Card>\r\n              <CardHeader>\r\n               <Row>\r\n                <Col>\r\n                  Detail Permintaan Barang\r\n                </Col>\r\n                <Col>\r\n                  <Link to=\"/permintaanBarang/permintaanBarang\" className={'float-right mb-0'}>\r\n                    <Button color=\"primary\" size=\"sm\">\r\n                        Kembali\r\n                    </Button>\r\n                  </Link>\r\n                </Col>\r\n                </Row>\r\n              </CardHeader>\r\n              {this.displayRequestDetail()}                  \r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose (\r\n  graphql(getPermintaanBarangQuery, {\r\n      options:(props) => {\r\n        return{\r\n          variables:{\r\n            id: props.match.params.id\r\n          }\r\n        }\r\n      }\r\n    }),\r\n    graphql(updateStatusListRequest, {name:\"updateStatusListRequest\"}),\r\n    graphql(updateStatusPermintaanBarang, {name:\"updateStatusPermintaanBarang\"}),\r\n    graphql(getPermintaanBarangsQuery, {name:\"getPermintaanBarangsQuery\"}),\r\n    graphql(getListRequestsQuery, {name:\"getListRequestsQuery\"}),\r\n    graphql(hapusPermintaanBarangMutation, {name:\"hapusPermintaanBarangMutation\"}),\r\n    graphql(hapusManyListRequestMutation, {name:\"hapusManyListRequestMutation\"}),\r\n)(DetailPermintaanBarang);\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardHeader = function CardHeader(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card-header'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardHeader.propTypes = propTypes;\nCardHeader.defaultProps = defaultProps;\nexport default CardHeader;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  bordered: PropTypes.bool,\n  borderless: PropTypes.bool,\n  striped: PropTypes.bool,\n  dark: PropTypes.bool,\n  hover: PropTypes.bool,\n  responsive: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  tag: tagPropType,\n  responsiveTag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n};\nvar defaultProps = {\n  tag: 'table',\n  responsiveTag: 'div'\n};\n\nvar Table = function Table(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      bordered = props.bordered,\n      borderless = props.borderless,\n      striped = props.striped,\n      dark = props.dark,\n      hover = props.hover,\n      responsive = props.responsive,\n      Tag = props.tag,\n      ResponsiveTag = props.responsiveTag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"size\", \"bordered\", \"borderless\", \"striped\", \"dark\", \"hover\", \"responsive\", \"tag\", \"responsiveTag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'table', size ? 'table-' + size : false, bordered ? 'table-bordered' : false, borderless ? 'table-borderless' : false, striped ? 'table-striped' : false, dark ? 'table-dark' : false, hover ? 'table-hover' : false), cssModule);\n  var table = React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n\n  if (responsive) {\n    var responsiveClassName = mapToCssModules(responsive === true ? 'table-responsive' : \"table-responsive-\" + responsive, cssModule);\n    return React.createElement(ResponsiveTag, {\n      className: responsiveClassName\n    }, table);\n  }\n\n  return table;\n};\n\nTable.propTypes = propTypes;\nTable.defaultProps = defaultProps;\nexport default Table;"],"sourceRoot":""}