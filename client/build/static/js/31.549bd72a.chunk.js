(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[31],{311:function(e,a,r){"use strict";r.r(a);var t=r(22),n=r(23),s=r(25),l=r(24),m=r(2),i=r.n(m),c=r(320),d=r(26),u=r(63),o=r(67),p=r.n(o),b=r(62),g=r(75),h=r(119),E=r(69),v=r(70),f=r(292),O=r(293),j=r(91),y=r(66),k=r(71),P=r(74),B=r(65),_=function(e){Object(s.a)(r,e);var a=Object(l.a)(r);function r(e){var n;return Object(t.a)(this,r),(n=a.call(this,e)).state={nama:"",purchase_id:"",jumlah:0,modalIsOpen:!1,harga:0,sewa:0},n}return Object(n.a)(r,[{key:"toggleModal",value:function(){this.setState({modalIsOpen:!this.state.modalIsOpen})}},{key:"displayNewPenerimaanbarang",value:function(){var e=this.props.getPenerimaanBarangsQuery,a="",r="",t="";return e.penerimaanBarangs.map((function(e){return a=e.tanggal,r=e.kode,t=e.akun.karyawan.nama})),i.a.createElement(g.a,null,i.a.createElement(h.a,{className:"form-horizontal"},i.a.createElement(E.a,null,i.a.createElement(v.a,{md:"4"},i.a.createElement(f.a,{row:!0},i.a.createElement(v.a,{md:"6"},i.a.createElement(O.a,{htmlFor:"name"},"Kode Penerimaan Barang")),i.a.createElement(v.a,{md:"6"},i.a.createElement(j.a,{type:"text",name:"kode",id:"kode",value:r,disabled:!0})))),i.a.createElement(v.a,{md:"4"},i.a.createElement(f.a,{row:!0},i.a.createElement(v.a,{md:"3"},i.a.createElement(O.a,{htmlFor:"name"},"Tanggal")),i.a.createElement(v.a,{md:"9"},i.a.createElement(j.a,{type:"text",name:"kode",id:"kode",value:a,disabled:!0})))),i.a.createElement(v.a,{md:"4"},i.a.createElement(f.a,{row:!0},i.a.createElement(v.a,{md:"3"},i.a.createElement(O.a,{htmlFor:"name"},"Penerima")),i.a.createElement(v.a,{md:"9"},i.a.createElement(j.a,{type:"text",name:"kode",id:"kode",value:t,disabled:!0})))))))}},{key:"displayPurchaseOrderDetail",value:function(){var e=this.props.data.purchaseOrder;if(e)return i.a.createElement(g.a,null,i.a.createElement(h.a,{className:"form-horizontal"},i.a.createElement(E.a,null,i.a.createElement(v.a,{md:"4"},i.a.createElement(f.a,{row:!0},i.a.createElement(v.a,{md:"6"},i.a.createElement(O.a,{htmlFor:"name"},"Kode Purchase Order")),i.a.createElement(v.a,{md:"6"},i.a.createElement(j.a,{type:"text",name:"kode",id:"kode",value:e.kode,disabled:!0})))),i.a.createElement(v.a,{md:"4"},i.a.createElement(f.a,{row:!0},i.a.createElement(v.a,{md:"3"},i.a.createElement(O.a,{htmlFor:"name"},"Nama vendor")),i.a.createElement(v.a,{md:"9"},i.a.createElement(j.a,{type:"text",name:"kode",id:"kode",value:e.vendor.nama,disabled:!0})))))),i.a.createElement("hr",null),i.a.createElement(y.a,{hover:!0,bordered:!0,striped:!0,responsive:!0,size:"sm"},i.a.createElement("thead",{align:"center"},i.a.createElement("tr",null,i.a.createElement("th",null,"Nama Barang"),i.a.createElement("th",null,"Satuan"),i.a.createElement("th",null,"Jumlah"))),i.a.createElement("tbody",{align:"center"},e.listItemPurchaseOrder.map((function(e){return i.a.createElement("tr",{key:e.id},i.a.createElement("td",null,e.nama_barang),i.a.createElement("td",null,e.satuan),i.a.createElement("td",null,e.jumlah_barang))})))),i.a.createElement("div",{align:"center"},i.a.createElement(d.Link,{to:"/penerimaanBarang/penerimaanBarang"},i.a.createElement(k.a,{onClick:this.Submit.bind(this,e.vendor.jenis_usaha),color:"primary"},"Submit"))))}},{key:"Submit",value:function(e){var a=this;"Perkakas"!==e?this.props.data.purchaseOrder.listItemPurchaseOrder.map((function(e){var r="",t=0;if(a.props.getPersediaanBarangsQuery.persediaanBarangs.map((function(a){e.nama_barang===a.barang.nama_barang&&(r=a.barang.id,t=a.jumlah)})),""!==r)a.props.updateJumlahPersediaanBarang({variables:{barang_id:r,jumlah:parseInt(e.jumlah_barang)+parseInt(t)},refetchQueries:[{query:b.E}]});else{var n="";a.props.getBarangsQuery.barangs.map((function(a){e.nama_barang===a.nama_barang&&(n=a.id)})),a.props.addPersediaanBarang({variables:{barang_id:n,jumlah:parseInt(e.jumlah_barang),status:"Available"},refetchQueries:[{query:b.E}]})}})):this.props.data.purchaseOrder.listItemPurchaseOrder.map((function(e){var r=a.props.getAllInventarisQuery,t="",n=0;if(r.allInventaris.map((function(a){e.nama_barang===a.barang.nama_barang&&(t=a.barang.id,n=a.jumlah)})),""!==t)a.props.updateJumlahInventaris({variables:{barang_id:t,jumlah:parseInt(e.jumlah_barang)+parseInt(n)},refetchQueries:[{query:b.p}]});else{var s="";(r=a.props.getBarangsQuery).barangs.map((function(a){e.nama_barang===a.nama_barang&&(s=a.id)})),a.props.addInventaris({variables:{barang_id:s,jumlah:parseInt(e.jumlah_barang),status:"Available",jumlah_dipakai:0,jumlah_diperbaiki:0},refetchQueries:[{query:b.p}]})}}));this.props.updateStatusDonePurchaseOrder({variables:{id:this.props.match.params.id,status:"Done"},refetchQueries:[{query:b.G}]}),this.props.updateStatusListRequestOnOrder({variables:{order_id:this.props.match.params.id,status:"Ready"},refetchQueries:[{query:b.v}]}),p.a.fire({position:"center",icon:"success",title:"Penerimaan Barang Berhasil Disimpan",showConfirmButton:!0})}},{key:"render",value:function(){return i.a.createElement("div",{className:"animated fadeIn"},i.a.createElement(E.a,null,i.a.createElement(v.a,null,i.a.createElement(P.a,null,i.a.createElement(B.a,null,i.a.createElement("i",{className:"fa fa-align-justify"}),"Form Buat Penerimaan Barang",i.a.createElement(d.Link,{to:"/penerimaanBarang/penerimaanBarang",className:"float-right mb-0"},i.a.createElement(k.a,{color:"danger"},"Batal"))),this.displayNewPenerimaanbarang(),this.displayPurchaseOrderDetail()))))}}]),r}(m.Component);a.default=u(Object(c.a)(b.F,{options:function(e){return{variables:{id:e.match.params.id}}}}),Object(c.a)(b.z,{name:"getPenerimaanBarangsQuery"}),Object(c.a)(b.G,{name:"getPurchaseOrdersQuery"}),Object(c.a)(b.E,{name:"getPersediaanBarangsQuery"}),Object(c.a)(b.v,{name:"getListRequestsQuery"}),Object(c.a)(b.r,{name:"getBarangsQuery"}),Object(c.a)(b.p,{name:"getAllInventarisQuery"}),Object(c.a)(b.i,{name:"addPersediaanBarang"}),Object(c.a)(b.X,{name:"updateJumlahPersediaanBarang"}),Object(c.a)(b.W,{name:"updateJumlahInventaris"}),Object(c.a)(b.db,{name:"updateStatusListRequestOnOrder"}),Object(c.a)(b.ab,{name:"updateStatusDonePurchaseOrder"}))(_)},65:function(e,a,r){"use strict";var t=r(4),n=r(13),s=r(2),l=r.n(s),m=r(14),i=r.n(m),c=r(59),d=r.n(c),u=r(60),o={tag:u.m,className:i.a.string,cssModule:i.a.object},p=function(e){var a=e.className,r=e.cssModule,s=e.tag,m=Object(n.a)(e,["className","cssModule","tag"]),i=Object(u.i)(d()(a,"card-header"),r);return l.a.createElement(s,Object(t.a)({},m,{className:i}))};p.propTypes=o,p.defaultProps={tag:"div"},a.a=p},66:function(e,a,r){"use strict";var t=r(4),n=r(13),s=r(2),l=r.n(s),m=r(14),i=r.n(m),c=r(59),d=r.n(c),u=r(60),o={className:i.a.string,cssModule:i.a.object,size:i.a.string,bordered:i.a.bool,borderless:i.a.bool,striped:i.a.bool,dark:i.a.bool,hover:i.a.bool,responsive:i.a.oneOfType([i.a.bool,i.a.string]),tag:u.m,responsiveTag:u.m,innerRef:i.a.oneOfType([i.a.func,i.a.string,i.a.object])},p=function(e){var a=e.className,r=e.cssModule,s=e.size,m=e.bordered,i=e.borderless,c=e.striped,o=e.dark,p=e.hover,b=e.responsive,g=e.tag,h=e.responsiveTag,E=e.innerRef,v=Object(n.a)(e,["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"]),f=Object(u.i)(d()(a,"table",!!s&&"table-"+s,!!m&&"table-bordered",!!i&&"table-borderless",!!c&&"table-striped",!!o&&"table-dark",!!p&&"table-hover"),r),O=l.a.createElement(g,Object(t.a)({},v,{ref:E,className:f}));if(b){var j=Object(u.i)(!0===b?"table-responsive":"table-responsive-"+b,r);return l.a.createElement(h,{className:j},O)}return O};p.propTypes=o,p.defaultProps={tag:"table",responsiveTag:"div"},a.a=p}}]);
//# sourceMappingURL=31.549bd72a.chunk.js.map