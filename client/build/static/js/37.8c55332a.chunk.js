(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[37],{124:function(e,a,t){"use strict";var n=t(4),r=t(13),s=t(2),o=t.n(s),i=t(14),l=t.n(i),c=t(59),u=t.n(c),g=t(61),m=l.a.oneOfType([l.a.number,l.a.string]),d={tag:g.m,noGutters:l.a.bool,className:l.a.string,cssModule:l.a.object,form:l.a.bool,xs:m,sm:m,md:m,lg:m,xl:m},f={tag:"div",widths:["xs","sm","md","lg","xl"]},p=function(e){var a=e.className,t=e.cssModule,s=e.noGutters,i=e.tag,l=e.form,c=e.widths,m=Object(r.a)(e,["className","cssModule","noGutters","tag","form","widths"]),d=[];c.forEach((function(a,t){var n=e[a];if(delete m[a],n){var r=!t;d.push(r?"row-cols-"+n:"row-cols-"+a+"-"+n)}}));var f=Object(g.i)(u()(a,s?"no-gutters":null,l?"form-row":"row",d),t);return o.a.createElement(i,Object(n.a)({},m,{className:f}))};p.propTypes=d,p.defaultProps=f,a.a=p},125:function(e,a,t){"use strict";var n=t(4),r=t(13),s=t(2),o=t.n(s),i=t(14),l=t.n(i),c=t(59),u=t.n(c),g=t(61),m=l.a.oneOfType([l.a.number,l.a.string]),d=l.a.oneOfType([l.a.bool,l.a.number,l.a.string,l.a.shape({size:l.a.oneOfType([l.a.bool,l.a.number,l.a.string]),order:m,offset:m})]),f={tag:g.m,xs:d,sm:d,md:d,lg:d,xl:d,className:l.a.string,cssModule:l.a.object,widths:l.a.array},p={tag:"div",widths:["xs","sm","md","lg","xl"]},h=function(e,a,t){return!0===t||""===t?e?"col":"col-"+a:"auto"===t?e?"col-auto":"col-"+a+"-auto":e?"col-"+t:"col-"+a+"-"+t},b=function(e){var a=e.className,t=e.cssModule,s=e.widths,i=e.tag,l=Object(r.a)(e,["className","cssModule","widths","tag"]),c=[];s.forEach((function(a,n){var r=e[a];if(delete l[a],r||""===r){var s=!n;if(Object(g.g)(r)){var o,i=s?"-":"-"+a+"-",m=h(s,a,r.size);c.push(Object(g.i)(u()(((o={})[m]=r.size||""===r.size,o["order"+i+r.order]=r.order||0===r.order,o["offset"+i+r.offset]=r.offset||0===r.offset,o)),t))}else{var d=h(s,a,r);c.push(d)}}})),c.length||c.push("col");var m=Object(g.i)(u()(a,c),t);return o.a.createElement(i,Object(n.a)({},l,{className:m}))};b.propTypes=f,b.defaultProps=p,a.a=b},130:function(e,a,t){"use strict";var n=t(4),r=t(13),s=t(70),o=t(10),i=t(2),l=t.n(i),c=t(14),u=t.n(c),g=t(59),m=t.n(g),d=t(61),f={active:u.a.bool,"aria-label":u.a.string,block:u.a.bool,color:u.a.string,disabled:u.a.bool,outline:u.a.bool,tag:d.m,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),onClick:u.a.func,size:u.a.string,children:u.a.node,className:u.a.string,cssModule:u.a.object,close:u.a.bool},p=function(e){function a(a){var t;return(t=e.call(this,a)||this).onClick=t.onClick.bind(Object(s.a)(t)),t}Object(o.a)(a,e);var t=a.prototype;return t.onClick=function(e){this.props.disabled?e.preventDefault():this.props.onClick&&this.props.onClick(e)},t.render=function(){var e=this.props,a=e.active,t=e["aria-label"],s=e.block,o=e.className,i=e.close,c=e.cssModule,u=e.color,g=e.outline,f=e.size,p=e.tag,h=e.innerRef,b=Object(r.a)(e,["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"]);i&&"undefined"===typeof b.children&&(b.children=l.a.createElement("span",{"aria-hidden":!0},"\xd7"));var v="btn"+(g?"-outline":"")+"-"+u,y=Object(d.i)(m()(o,{close:i},i||"btn",i||v,!!f&&"btn-"+f,!!s&&"btn-block",{active:a,disabled:this.props.disabled}),c);b.href&&"button"===p&&(p="a");var P=i?"Close":null;return l.a.createElement(p,Object(n.a)({type:"button"===p&&b.onClick?"button":void 0},b,{className:y,ref:h,onClick:this.onClick,"aria-label":t||P}))},a}(l.a.Component);p.propTypes=f,p.defaultProps={color:"secondary",tag:"button"},a.a=p},73:function(e,a,t){(function(a){var t="object"==typeof a&&a&&a.Object===Object&&a,n="object"==typeof self&&self&&self.Object===Object&&self,r=t||n||Function("return this")();function s(e,a,t){switch(t.length){case 0:return e.call(a);case 1:return e.call(a,t[0]);case 2:return e.call(a,t[0],t[1]);case 3:return e.call(a,t[0],t[1],t[2])}return e.apply(a,t)}function o(e,a){for(var t=-1,n=a.length,r=e.length;++t<n;)e[r+t]=a[t];return e}var i=Object.prototype,l=i.hasOwnProperty,c=i.toString,u=r.Symbol,g=i.propertyIsEnumerable,m=u?u.isConcatSpreadable:void 0,d=Math.max;function f(e){return p(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var a=function(e){var a=typeof e;return!!e&&("object"==a||"function"==a)}(e)?c.call(e):"";return"[object Function]"==a||"[object GeneratorFunction]"==a}(e)}(e)}(e)&&l.call(e,"callee")&&(!g.call(e,"callee")||"[object Arguments]"==c.call(e))}(e)||!!(m&&e&&e[m])}var p=Array.isArray;var h=function(e){return a=function(a){var t=(a=function e(a,t,n,r,s){var i=-1,l=a.length;for(n||(n=f),s||(s=[]);++i<l;){var c=a[i];t>0&&n(c)?t>1?e(c,t-1,n,r,s):o(s,c):r||(s[s.length]=c)}return s}(a,1)).length,n=t;for(e&&a.reverse();n--;)if("function"!=typeof a[n])throw new TypeError("Expected a function");return function(){for(var e=0,n=t?a[e].apply(this,arguments):arguments[0];++e<t;)n=a[e].call(this,n);return n}},t=d(void 0===t?a.length-1:t,0),function(){for(var e=arguments,n=-1,r=d(e.length-t,0),o=Array(r);++n<r;)o[n]=e[t+n];n=-1;for(var i=Array(t+1);++n<t;)i[n]=e[n];return i[t]=o,s(a,this,i)};var a,t}(!0);e.exports=h}).call(this,t(29))},770:function(e,a,t){"use strict";t.r(a);var n=t(23),r=t(24),s=t(26),o=t(25),i=t(2),l=t.n(i),c=t(27),u=t(12),g=t(794),m=t(73),d=t(69),f=t(130),p=t(124),h=t(125),b=t(82),v=t(97),y=t(79),P=t(195),j=t(197),E=t(193),k=t(194),w=t(196),O=t(192),B=t(765),C=t(209),R=function(e){Object(s.a)(t,e);var a=Object(o.a)(t);function t(e){var r;Object(n.a)(this,t),(r=a.call(this,e)).handleChangePage=function(e,a){r.setState({setPage:a})},r.handleChangeRowsPerPage=function(e){r.setState({setRowsPerPage:parseInt(e.target.value,10),rowsPerPage:parseInt(e.target.value,10),setPage:0})};var s=!0;return null==localStorage.getItem("username")&&(s=!1),r.state={akun_id:localStorage.getItem("user_id"),jabatan:localStorage.getItem("jabatan"),divisi:localStorage.getItem("divisi"),sortType:"desc",kode:"",nama:"",jumlah:"",satuan:"",div_id:"",request_id:"",addRequest:!1,loggedIn:s,page:0,setPage:0,rowsPerPage:5,setRowsPerPage:5},r}return Object(r.a)(t,[{key:"getDataPermintaanBarang",value:function(){var e=this.props.getPermintaanBarangsQuery,a=0;if(!e.loading)return e.permintaanBarangs.map((function(e){a++})),a}},{key:"onDelete",value:function(e){this.props.hapusPermintaanBarangMutation({variables:{id:e},refetchQueries:[{query:d.D}]}),this.props.hapusManyListRequestMutation({variables:{id:e},refetchQueries:[{query:d.D}]})}},{key:"displayRequest",value:function(){var e=this,a=this.props.getPermintaanBarangsQuery,t=this.state.setPage*this.state.setRowsPerPage,n=this.state.setPage*this.state.setRowsPerPage+this.state.setRowsPerPage,r=0;if(!a.loading)return void 0!==a.permintaanBarangs?(a.permintaanBarangs.sort((function(a,t){return("asc"===e.state.sortType?1:-1)*a.kode.localeCompare(t.kode)})),a.permintaanBarangs.map((function(e){if(++r>t&&r<n+1)return l.a.createElement(O.a,{key:e.id},l.a.createElement(E.a,{component:"th",scope:"row"},r),l.a.createElement(E.a,{align:"center"},e.kode),l.a.createElement(E.a,{align:"center"},e.divisi.nama),l.a.createElement(E.a,{align:"center"},e.tanggal),l.a.createElement(E.a,{align:"center"},e.status),l.a.createElement(E.a,{align:"center"},l.a.createElement(c.Link,{to:"/permintaanBarang/detailPermintaanBarang/".concat(e.id)},l.a.createElement(f.a,{color:"primary",size:"sm"},l.a.createElement("i",{className:"fa fa-file"})))))}))):void window.location.reload(!1)}},{key:"getKodeBaru",value:function(){var e=this,a="",t=1,n=this.props.getPermintaanBarangsQuery;return n.permintaanBarangs.sort((function(a,t){return("desc"===e.state.sortType?1:-1)*a.kode.localeCompare(t.kode)})),n.permintaanBarangs.map((function(e){""!==e.kode&&(a=e.kode)})),""!==a&&(t=parseInt(a.substring(1,4))+1),a=t<10?"R00"+t:t>=10&&t<100?"R0"+t:"R"+t}},{key:"addRequestHandler",value:function(){console.log(this.state.akun_id),this.props.addPermintaanBarangMutation({variables:{tanggal:(new Date).toLocaleDateString(),status:"Belum Disetujui",akun_id:this.state.akun_id,kode:this.getKodeBaru(),divisi_id:localStorage.getItem("divisi_id"),tanggal_setuju:"",disetujui_id:"5f7d7b275e9e27240c35abcf"},refetchQueries:[{query:d.D}]}),this.props.history.push("/permintaanBarang/buatPermintaanBarang")}},{key:"displayTombolBuatPermintaan",value:function(){if("Admin"!==this.state.jabatan&&"Logistic"===this.state.divisi)return l.a.createElement(f.a,{color:"primary",onClick:this.addRequestHandler.bind(this),className:"float-right mb-0",size:"sm"},l.a.createElement("i",{className:"fa fa-plus mr-2"}),"Buat Permintaan Barang")}},{key:"render",value:function(){return!1===this.state.loggedIn?l.a.createElement(u.c,{to:"/login"}):l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement(p.a,null,l.a.createElement(h.a,null,l.a.createElement(b.a,null,l.a.createElement(v.a,null,"Daftar Permintaan Barang",this.displayTombolBuatPermintaan()),l.a.createElement(y.a,null,l.a.createElement(k.a,{component:B.a},l.a.createElement(P.a,{"aria-label":"simple table"},l.a.createElement(w.a,null,l.a.createElement(O.a,null,l.a.createElement(E.a,null,"No"),l.a.createElement(E.a,{align:"center"},"Kode"),l.a.createElement(E.a,{align:"center"},"Divisi"),l.a.createElement(E.a,{align:"center"},"Tanggal"),l.a.createElement(E.a,{align:"center"},"Status"),l.a.createElement(E.a,{align:"center"},"Detail"))),l.a.createElement(j.a,null,this.displayRequest()))),l.a.createElement(C.a,{rowsPerPageOptions:[5,10,25],component:"div",count:this.getDataPermintaanBarang(),page:this.state.setPage,onChangePage:this.handleChangePage,rowsPerPage:this.state.rowsPerPage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))))))}}]),t}(i.Component);a.default=m(Object(g.a)(d.D,{name:"getPermintaanBarangsQuery"}),Object(g.a)(d.v,{name:"getListRequestsQuery"}),Object(g.a)(d.h,{name:"addPermintaanBarangMutation"}),Object(g.a)(d.P,{name:"hapusPermintaanBarangMutation"}),Object(g.a)(d.L,{name:"hapusManyListRequestMutation"}))(R)}}]);
//# sourceMappingURL=37.8c55332a.chunk.js.map